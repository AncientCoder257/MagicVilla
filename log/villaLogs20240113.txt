2024-01-13 13:14:27.482 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-13 13:14:27.604 +02:00 [DBG] Hosting starting
2024-01-13 13:14:27.830 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2024-01-13 13:14:27.830 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-13 13:14:27.831 +02:00 [INF] Hosting environment: Development
2024-01-13 13:14:27.831 +02:00 [INF] Content root path: C:\Users\abcha\Desktop\gitRepos\Playground\MagicVilla\MagicVilla_VillaAPI\MagicVilla\MagicVilla_VillaAPI
2024-01-13 13:14:27.831 +02:00 [DBG] Hosting started
2024-01-13 13:14:27.929 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger - null null
2024-01-13 13:14:27.933 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-13 13:14:27.953 +02:00 [DBG] No candidates found for the request path '/swagger'
2024-01-13 13:14:27.953 +02:00 [DBG] Request did not match any endpoints
2024-01-13 13:14:28.008 +02:00 [DBG] Connection ID "18086456112915152901" disconnecting.
2024-01-13 13:14:28.013 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/index.html - null null
2024-01-13 13:14:28.013 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-01-13 13:14:28.013 +02:00 [DBG] Request did not match any endpoints
2024-01-13 13:14:28.031 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger - 301 null null 103.8428ms
2024-01-13 13:14:28.143 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/index.html - 200 null text/html;charset=utf-8 130.5511ms
2024-01-13 13:14:28.248 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui-bundle.js - null null
2024-01-13 13:14:28.249 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-01-13 13:14:28.249 +02:00 [DBG] Request did not match any endpoints
2024-01-13 13:14:28.253 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui-standalone-preset.js - null null
2024-01-13 13:14:28.253 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-01-13 13:14:28.253 +02:00 [DBG] Request did not match any endpoints
2024-01-13 13:14:28.260 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui.css - null null
2024-01-13 13:14:28.261 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-01-13 13:14:28.261 +02:00 [DBG] Request did not match any endpoints
2024-01-13 13:14:28.276 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-01-13 13:14:28.276 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-01-13 13:14:28.286 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-01-13 13:14:28.290 +02:00 [DBG] Connection ID "18302628890733969454" disconnecting.
2024-01-13 13:14:28.290 +02:00 [DBG] Connection ID "18374686484771897358" disconnecting.
2024-01-13 13:14:28.311 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 57.5161ms
2024-01-13 13:14:28.311 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui.css - 200 143943 text/css 50.2647ms
2024-01-13 13:14:28.338 +02:00 [DBG] Connection ID "18158513702658113565" disconnecting.
2024-01-13 13:14:28.338 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 89.9777ms
2024-01-13 13:14:28.835 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - null null
2024-01-13 13:14:28.836 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-01-13 13:14:28.836 +02:00 [DBG] Request did not match any endpoints
2024-01-13 13:14:28.863 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/favicon-32x32.png - null null
2024-01-13 13:14:28.863 +02:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2024-01-13 13:14:28.863 +02:00 [DBG] Request did not match any endpoints
2024-01-13 13:14:28.864 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-01-13 13:14:28.864 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/favicon-32x32.png - 200 628 image/png 1.4243ms
2024-01-13 13:14:29.073 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 237.7906ms
2024-01-13 13:14:29.077 +02:00 [DBG] Connection ID "18158513702658113567" disconnecting.
2024-01-13 13:14:58.773 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/VillaAPI/GetVillas - null null
2024-01-13 13:14:58.789 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaAPI/GetVillas'
2024-01-13 13:14:58.792 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'VillaAPI/GetVillas' is valid for the request path '/VillaAPI/GetVillas'
2024-01-13 13:14:58.793 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI)'
2024-01-13 13:14:58.794 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 13:14:58.795 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI)'
2024-01-13 13:14:58.809 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[MagicVilla_VillaAPI.Models.Dto.VillaDTO]]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI).
2024-01-13 13:14:58.810 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 13:14:58.810 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 13:14:58.811 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 13:14:58.811 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 13:14:58.811 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 13:14:58.813 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 13:14:59.159 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-13 13:14:59.288 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 13:14:59.978 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 13:15:00.452 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2024-01-13 13:15:00.635 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqm (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqm, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-01-13 13:15:00.669 +02:00 [DBG] Creating DbConnection.
2024-01-13 13:15:00.695 +02:00 [DBG] Created DbConnection. (24ms).
2024-01-13 13:15:00.697 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:15:01.942 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:15:01.952 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 13:15:01.974 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (16ms).
2024-01-13 13:15:01.978 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (25ms).
2024-01-13 13:15:01.991 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
2024-01-13 13:15:02.078 +02:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
2024-01-13 13:15:02.180 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 13:15:02.211 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 13:15:02.211 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 13:15:02.216 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:15:02.223 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 136ms reading results.
2024-01-13 13:15:02.230 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:15:02.237 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (6ms).
2024-01-13 13:15:02.264 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 13:15:02.266 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-13 13:15:02.266 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-13 13:15:02.267 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 13:15:02.267 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 13:15:02.267 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 13:15:02.267 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MagicVilla_VillaAPI.Models.Dto.VillaDTO, MagicVilla_VillaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-13 13:15:02.422 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI) in 3606.9547ms
2024-01-13 13:15:02.423 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI)'
2024-01-13 13:15:02.424 +02:00 [DBG] Connection ID "18302628899323904041" disconnecting.
2024-01-13 13:15:02.428 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 13:15:02.434 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:15:02.436 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-13 13:15:02.438 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/VillaAPI/GetVillas - 200 404 application/json; charset=utf-8 3665.8623ms
2024-01-13 13:15:09.713 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/VillaAPI/2 - null null
2024-01-13 13:15:09.713 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaAPI/2'
2024-01-13 13:15:09.714 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'VillaAPI/{id:int}' is valid for the request path '/VillaAPI/2'
2024-01-13 13:15:09.714 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVilla (MagicVilla_VillaAPI)'
2024-01-13 13:15:09.714 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 13:15:09.714 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVilla (MagicVilla_VillaAPI)'
2024-01-13 13:15:09.730 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.Dto.VillaDTO]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI).
2024-01-13 13:15:09.730 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 13:15:09.730 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 13:15:09.730 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 13:15:09.730 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 13:15:09.731 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 13:15:09.731 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 13:15:09.733 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 13:15:09.749 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-13 13:15:09.754 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-13 13:15:09.755 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 13:15:09.755 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 13:15:09.756 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-13 13:15:09.758 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-13 13:15:09.779 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 13:15:09.792 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Id == __id_0)
    .FirstOrDefault()'
2024-01-13 13:15:09.871 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqm (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqm, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-13 13:15:09.879 +02:00 [DBG] Creating DbConnection.
2024-01-13 13:15:09.880 +02:00 [DBG] Created DbConnection. (0ms).
2024-01-13 13:15:09.880 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:15:09.881 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:15:09.881 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 13:15:09.881 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 13:15:09.885 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-13 13:15:09.889 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2024-01-13 13:15:09.946 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2024-01-13 13:15:09.946 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 13:15:09.947 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:15:09.948 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-01-13 13:15:09.948 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:15:09.948 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 13:15:09.951 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 13:15:09.951 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-13 13:15:09.952 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-13 13:15:09.952 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 13:15:09.952 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 13:15:09.952 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 13:15:09.952 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.Dto.VillaDTO'.
2024-01-13 13:15:09.953 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVilla (MagicVilla_VillaAPI) in 221.6587ms
2024-01-13 13:15:09.953 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVilla (MagicVilla_VillaAPI)'
2024-01-13 13:15:09.953 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 13:15:09.953 +02:00 [DBG] Connection ID "18302628899323904043" disconnecting.
2024-01-13 13:15:09.953 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:15:09.953 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-13 13:15:09.954 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/VillaAPI/2 - 200 136 application/json; charset=utf-8 240.668ms
2024-01-13 13:16:02.408 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44395/VillaAPI/CreateVilla - application/json-patch+json 145
2024-01-13 13:16:02.409 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaAPI/CreateVilla'
2024-01-13 13:16:02.409 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'VillaAPI/CreateVilla' is valid for the request path '/VillaAPI/CreateVilla'
2024-01-13 13:16:02.409 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.CreateVilla (MagicVilla_VillaAPI)'
2024-01-13 13:16:02.410 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 13:16:02.410 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.CreateVilla (MagicVilla_VillaAPI)'
2024-01-13 13:16:02.413 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.Dto.VillaDTO]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI).
2024-01-13 13:16:02.413 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 13:16:02.413 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 13:16:02.413 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 13:16:02.413 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 13:16:02.413 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 13:16:02.413 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 13:16:02.414 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 13:16:02.414 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2024-01-13 13:16:02.415 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2024-01-13 13:16:02.416 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-13 13:16:02.416 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-13 13:16:02.454 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2024-01-13 13:16:02.454 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2024-01-13 13:16:02.454 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2024-01-13 13:16:02.460 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2024-01-13 13:16:02.488 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 13:16:02.495 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Name.ToLower() == __ToLower_0)
    .FirstOrDefault()'
2024-01-13 13:16:02.528 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqm (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqm, v.UpdatedDate
            FROM Villas AS v
            WHERE LOWER(v.Name) == @__ToLower_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-13 13:16:02.535 +02:00 [DBG] Creating DbConnection.
2024-01-13 13:16:02.535 +02:00 [DBG] Created DbConnection. (0ms).
2024-01-13 13:16:02.535 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:16:02.536 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:16:02.536 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 13:16:02.536 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 13:16:02.537 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 13:16:02.537 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE LOWER([v].[Name]) = @__ToLower_0
2024-01-13 13:16:02.542 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE LOWER([v].[Name]) = @__ToLower_0
2024-01-13 13:16:02.543 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:16:02.543 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-01-13 13:16:02.543 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:16:02.543 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 13:16:02.575 +02:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Villa.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 13:16:02.584 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 13:16:02.588 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-01-13 13:16:02.592 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-01-13 13:16:02.610 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-01-13 13:16:02.662 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:16:02.663 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:16:02.665 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 13:16:02.665 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 13:16:02.666 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 13:16:02.666 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Villas] ([Amenity], [CreatedDate], [Details], [ImageUrl], [Name], [Occupancy], [Rate], [Sqm], [UpdatedDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2024-01-13 13:16:02.674 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Villas] ([Amenity], [CreatedDate], [Details], [ImageUrl], [Name], [Occupancy], [Rate], [Sqm], [UpdatedDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2024-01-13 13:16:02.685 +02:00 [DBG] The foreign key property 'Villa.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-13 13:16:02.689 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:16:02.689 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 15ms reading results.
2024-01-13 13:16:02.691 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:16:02.691 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 13:16:02.700 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 13:16:02.703 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-01-13 13:16:02.704 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 13:16:02.704 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-13 13:16:02.704 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-13 13:16:02.704 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 13:16:02.704 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 13:16:02.704 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 13:16:02.704 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'MagicVilla_VillaAPI.Models.Villa'.
2024-01-13 13:16:02.718 +02:00 [DBG] Found the endpoints ["MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVilla (MagicVilla_VillaAPI)"] for address GetVilla(id=[6])
2024-01-13 13:16:02.721 +02:00 [DBG] Successfully processed template VillaAPI/{id:int} for MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVilla (MagicVilla_VillaAPI) resulting in /VillaAPI/6 and 
2024-01-13 13:16:02.722 +02:00 [DBG] Link generation succeeded for endpoints ["MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVilla (MagicVilla_VillaAPI)"] with result /VillaAPI/6
2024-01-13 13:16:02.726 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaAPIController.CreateVilla (MagicVilla_VillaAPI) in 312.6937ms
2024-01-13 13:16:02.726 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.CreateVilla (MagicVilla_VillaAPI)'
2024-01-13 13:16:02.726 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 13:16:02.726 +02:00 [DBG] Connection ID "18158513702658113569" disconnecting.
2024-01-13 13:16:02.726 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:16:02.726 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-13 13:16:02.726 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44395/VillaAPI/CreateVilla - 201 197 application/json; charset=utf-8 317.5689ms
2024-01-13 13:17:00.270 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:44395/VillaAPI?id=4 - application/json-patch+json 149
2024-01-13 13:17:00.271 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaAPI'
2024-01-13 13:17:00.271 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'VillaAPI' is valid for the request path '/VillaAPI'
2024-01-13 13:17:00.271 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.UpdateVilla (MagicVilla_VillaAPI)'
2024-01-13 13:17:00.309 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 13:17:00.310 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.UpdateVilla (MagicVilla_VillaAPI)'
2024-01-13 13:17:00.314 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI).
2024-01-13 13:17:00.314 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 13:17:00.314 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 13:17:00.314 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 13:17:00.314 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 13:17:00.314 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 13:17:00.314 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 13:17:00.314 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 13:17:00.320 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-13 13:17:00.320 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-13 13:17:00.321 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 13:17:00.322 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 13:17:00.322 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-13 13:17:00.322 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-13 13:17:00.322 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2024-01-13 13:17:00.322 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2024-01-13 13:17:00.322 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-13 13:17:00.322 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-13 13:17:00.326 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2024-01-13 13:17:00.326 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2024-01-13 13:17:00.326 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2024-01-13 13:17:00.328 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2024-01-13 13:17:00.333 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 13:17:00.335 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 13:17:00.335 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-01-13 13:17:00.335 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-01-13 13:17:00.335 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-01-13 13:17:00.339 +02:00 [DBG] Creating DbConnection.
2024-01-13 13:17:00.339 +02:00 [DBG] Created DbConnection. (0ms).
2024-01-13 13:17:00.339 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:17:00.340 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:17:00.340 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 13:17:00.340 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 13:17:00.340 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 13:17:00.340 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Villas] SET [Amenity] = @p0, [CreatedDate] = @p1, [Details] = @p2, [ImageUrl] = @p3, [Name] = @p4, [Occupancy] = @p5, [Rate] = @p6, [Sqm] = @p7, [UpdatedDate] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2024-01-13 13:17:00.348 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Villas] SET [Amenity] = @p0, [CreatedDate] = @p1, [Details] = @p2, [ImageUrl] = @p3, [Name] = @p4, [Occupancy] = @p5, [Rate] = @p6, [Sqm] = @p7, [UpdatedDate] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2024-01-13 13:17:00.356 +02:00 [DBG] Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
2024-01-13 13:17:00.361 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:17:00.361 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 13ms reading results.
2024-01-13 13:17:00.362 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:17:00.362 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 13:17:00.501 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaAPIController.UpdateVilla (MagicVilla_VillaAPI) in 186.7443ms
2024-01-13 13:17:00.501 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.UpdateVilla (MagicVilla_VillaAPI)'
2024-01-13 13:17:00.503 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MagicVilla_VillaAPI.Repository.VillaRepository.SaveAsync() in C:\Users\abcha\Desktop\gitRepos\Playground\MagicVilla\MagicVilla_VillaAPI\MagicVilla\MagicVilla_VillaAPI\Repository\VillaRepository.cs:line 66
   at MagicVilla_VillaAPI.Repository.VillaRepository.UpdateAsync(Villa entity) in C:\Users\abcha\Desktop\gitRepos\Playground\MagicVilla\MagicVilla_VillaAPI\MagicVilla\MagicVilla_VillaAPI\Repository\VillaRepository.cs:line 61
   at MagicVilla_VillaAPI.Controllers.VillaAPIController.UpdateVilla(Int32 id, VillaUpdateDto updateDto) in C:\Users\abcha\Desktop\gitRepos\Playground\MagicVilla\MagicVilla_VillaAPI\MagicVilla\MagicVilla_VillaAPI\Controllers\VillaAPIController.cs:line 110
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-01-13 13:17:00.552 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 13:17:00.552 +02:00 [DBG] Connection ID "18158513702658113571" disconnecting.
2024-01-13 13:17:00.552 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:17:00.552 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-13 13:17:00.552 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:44395/VillaAPI?id=4 - 500 null text/plain; charset=utf-8 285.0896ms
2024-01-13 13:19:07.060 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/VillaAPI/GetVillas - null null
2024-01-13 13:19:07.060 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaAPI/GetVillas'
2024-01-13 13:19:07.060 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'VillaAPI/GetVillas' is valid for the request path '/VillaAPI/GetVillas'
2024-01-13 13:19:07.060 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI)'
2024-01-13 13:19:07.061 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 13:19:07.061 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI)'
2024-01-13 13:19:07.061 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[MagicVilla_VillaAPI.Models.Dto.VillaDTO]]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI).
2024-01-13 13:19:07.061 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 13:19:07.061 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 13:19:07.061 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 13:19:07.061 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 13:19:07.062 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 13:19:07.062 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 13:19:07.063 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 13:19:07.068 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 13:19:07.076 +02:00 [DBG] Creating DbConnection.
2024-01-13 13:19:07.076 +02:00 [DBG] Created DbConnection. (0ms).
2024-01-13 13:19:07.076 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:19:07.076 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:19:07.077 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 13:19:07.077 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 13:19:07.077 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 13:19:07.077 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
2024-01-13 13:19:07.081 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
2024-01-13 13:19:07.081 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 13:19:07.082 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 13:19:07.082 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 13:19:07.082 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 13:19:07.082 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:19:07.082 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-01-13 13:19:07.082 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:19:07.082 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 13:19:07.085 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 13:19:07.085 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-13 13:19:07.085 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-13 13:19:07.085 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 13:19:07.085 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 13:19:07.085 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 13:19:07.085 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MagicVilla_VillaAPI.Models.Dto.VillaDTO, MagicVilla_VillaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-13 13:19:07.086 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI) in 24.5174ms
2024-01-13 13:19:07.086 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI)'
2024-01-13 13:19:07.087 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 13:19:07.087 +02:00 [DBG] Connection ID "18302628916503773192" disconnecting.
2024-01-13 13:19:07.087 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:19:07.087 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-13 13:19:07.087 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/VillaAPI/GetVillas - 200 530 application/json; charset=utf-8 27.3707ms
2024-01-13 13:19:23.606 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:44395/VillaAPI?id=6 - application/json-patch+json 149
2024-01-13 13:19:23.607 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaAPI'
2024-01-13 13:19:23.607 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'VillaAPI' is valid for the request path '/VillaAPI'
2024-01-13 13:19:23.607 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.UpdateVilla (MagicVilla_VillaAPI)'
2024-01-13 13:19:23.607 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 13:19:23.607 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.UpdateVilla (MagicVilla_VillaAPI)'
2024-01-13 13:19:23.607 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI).
2024-01-13 13:19:23.607 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 13:19:23.607 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 13:19:23.607 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 13:19:23.607 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 13:19:23.607 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 13:19:23.607 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 13:19:23.623 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 13:19:23.623 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-13 13:19:23.624 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-13 13:19:23.624 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 13:19:23.624 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 13:19:23.624 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-13 13:19:23.624 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-13 13:19:23.624 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2024-01-13 13:19:23.624 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2024-01-13 13:19:23.628 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-13 13:19:23.628 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-13 13:19:23.628 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2024-01-13 13:19:23.628 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2024-01-13 13:19:23.628 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2024-01-13 13:19:23.629 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2024-01-13 13:19:23.630 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 13:19:23.630 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 13:19:23.630 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-01-13 13:19:23.630 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-01-13 13:19:23.630 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-01-13 13:19:23.630 +02:00 [DBG] Creating DbConnection.
2024-01-13 13:19:23.630 +02:00 [DBG] Created DbConnection. (0ms).
2024-01-13 13:19:23.630 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:19:23.630 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:19:23.631 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 13:19:23.631 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 13:19:23.631 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 13:19:23.632 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Villas] SET [Amenity] = @p0, [CreatedDate] = @p1, [Details] = @p2, [ImageUrl] = @p3, [Name] = @p4, [Occupancy] = @p5, [Rate] = @p6, [Sqm] = @p7, [UpdatedDate] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2024-01-13 13:19:23.642 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Villas] SET [Amenity] = @p0, [CreatedDate] = @p1, [Details] = @p2, [ImageUrl] = @p3, [Name] = @p4, [Occupancy] = @p5, [Rate] = @p6, [Sqm] = @p7, [UpdatedDate] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2024-01-13 13:19:23.642 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:19:23.642 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-01-13 13:19:23.643 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:19:23.643 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 13:19:23.643 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 13:19:23.643 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-01-13 13:19:23.644 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-01-13 13:19:23.644 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaAPIController.UpdateVilla (MagicVilla_VillaAPI) in 36.371ms
2024-01-13 13:19:23.644 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.UpdateVilla (MagicVilla_VillaAPI)'
2024-01-13 13:19:23.644 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 13:19:23.645 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:19:23.645 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-13 13:19:23.645 +02:00 [DBG] Connection ID "18086456104325218345" disconnecting.
2024-01-13 13:19:23.645 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:44395/VillaAPI?id=6 - 204 null null 38.3955ms
2024-01-13 13:19:28.232 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/VillaAPI/GetVillas - null null
2024-01-13 13:19:28.232 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaAPI/GetVillas'
2024-01-13 13:19:28.232 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'VillaAPI/GetVillas' is valid for the request path '/VillaAPI/GetVillas'
2024-01-13 13:19:28.232 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI)'
2024-01-13 13:19:28.232 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 13:19:28.232 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI)'
2024-01-13 13:19:28.232 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[MagicVilla_VillaAPI.Models.Dto.VillaDTO]]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI).
2024-01-13 13:19:28.232 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 13:19:28.232 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 13:19:28.233 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 13:19:28.233 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 13:19:28.233 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 13:19:28.233 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 13:19:28.233 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 13:19:28.235 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 13:19:28.235 +02:00 [DBG] Creating DbConnection.
2024-01-13 13:19:28.235 +02:00 [DBG] Created DbConnection. (0ms).
2024-01-13 13:19:28.235 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:19:28.236 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:19:28.236 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 13:19:28.236 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 13:19:28.236 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 13:19:28.237 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
2024-01-13 13:19:28.245 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
2024-01-13 13:19:28.246 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 13:19:28.246 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 13:19:28.246 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 13:19:28.246 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 13:19:28.246 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:19:28.246 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-01-13 13:19:28.247 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:19:28.247 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 13:19:28.248 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 13:19:28.248 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-13 13:19:28.248 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-13 13:19:28.248 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 13:19:28.248 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 13:19:28.248 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 13:19:28.248 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MagicVilla_VillaAPI.Models.Dto.VillaDTO, MagicVilla_VillaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-13 13:19:28.249 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI) in 16.5019ms
2024-01-13 13:19:28.249 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI)'
2024-01-13 13:19:28.250 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 13:19:28.250 +02:00 [DBG] Connection ID "18374686519131635723" disconnecting.
2024-01-13 13:19:28.250 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:19:28.250 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-13 13:19:28.250 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/VillaAPI/GetVillas - 200 523 application/json; charset=utf-8 18.317ms
2024-01-13 13:20:05.844 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:44395/VillaAPI?id=4 - application/json-patch+json 149
2024-01-13 13:20:05.844 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaAPI'
2024-01-13 13:20:05.844 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'VillaAPI' is valid for the request path '/VillaAPI'
2024-01-13 13:20:05.844 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.UpdateVilla (MagicVilla_VillaAPI)'
2024-01-13 13:20:05.844 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 13:20:05.845 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.UpdateVilla (MagicVilla_VillaAPI)'
2024-01-13 13:20:05.845 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI).
2024-01-13 13:20:05.845 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 13:20:05.845 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 13:20:05.845 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 13:20:05.845 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 13:20:05.845 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 13:20:05.846 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 13:20:05.846 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 13:20:05.847 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-13 13:20:05.848 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-13 13:20:05.848 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 13:20:05.848 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 13:20:05.848 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-13 13:20:05.848 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-13 13:20:05.848 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2024-01-13 13:20:05.848 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2024-01-13 13:20:05.848 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-13 13:20:05.848 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-13 13:20:05.849 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2024-01-13 13:20:05.849 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2024-01-13 13:20:05.849 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2024-01-13 13:20:05.849 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2024-01-13 13:20:05.851 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 13:20:05.852 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 13:20:05.852 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-01-13 13:20:05.852 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-01-13 13:20:05.852 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-01-13 13:20:05.853 +02:00 [DBG] Creating DbConnection.
2024-01-13 13:20:05.854 +02:00 [DBG] Created DbConnection. (0ms).
2024-01-13 13:20:05.854 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:20:05.854 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:20:05.855 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 13:20:05.855 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 13:20:05.855 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 13:20:05.855 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Villas] SET [Amenity] = @p0, [CreatedDate] = @p1, [Details] = @p2, [ImageUrl] = @p3, [Name] = @p4, [Occupancy] = @p5, [Rate] = @p6, [Sqm] = @p7, [UpdatedDate] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2024-01-13 13:20:05.866 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Villas] SET [Amenity] = @p0, [CreatedDate] = @p1, [Details] = @p2, [ImageUrl] = @p3, [Name] = @p4, [Occupancy] = @p5, [Rate] = @p6, [Sqm] = @p7, [UpdatedDate] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2024-01-13 13:20:05.869 +02:00 [DBG] Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
2024-01-13 13:20:05.870 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:20:05.870 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-01-13 13:20:05.870 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:20:05.870 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 13:20:05.948 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaAPIController.UpdateVilla (MagicVilla_VillaAPI) in 102.1282ms
2024-01-13 13:20:05.948 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.UpdateVilla (MagicVilla_VillaAPI)'
2024-01-13 13:20:05.949 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MagicVilla_VillaAPI.Repository.VillaRepository.SaveAsync() in C:\Users\abcha\Desktop\gitRepos\Playground\MagicVilla\MagicVilla_VillaAPI\MagicVilla\MagicVilla_VillaAPI\Repository\VillaRepository.cs:line 66
   at MagicVilla_VillaAPI.Repository.VillaRepository.UpdateAsync(Villa entity) in C:\Users\abcha\Desktop\gitRepos\Playground\MagicVilla\MagicVilla_VillaAPI\MagicVilla\MagicVilla_VillaAPI\Repository\VillaRepository.cs:line 61
   at MagicVilla_VillaAPI.Controllers.VillaAPIController.UpdateVilla(Int32 id, VillaUpdateDto updateDto) in C:\Users\abcha\Desktop\gitRepos\Playground\MagicVilla\MagicVilla_VillaAPI\MagicVilla\MagicVilla_VillaAPI\Controllers\VillaAPIController.cs:line 110
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-01-13 13:20:05.952 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 13:20:05.952 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:20:05.952 +02:00 [DBG] Connection ID "18302628899323904045" disconnecting.
2024-01-13 13:20:05.952 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-13 13:20:05.952 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:44395/VillaAPI?id=4 - 500 null text/plain; charset=utf-8 108.2184ms
2024-01-13 13:37:07.703 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-13 13:37:07.791 +02:00 [DBG] Hosting starting
2024-01-13 13:37:07.884 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2024-01-13 13:37:07.884 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-13 13:37:07.884 +02:00 [INF] Hosting environment: Development
2024-01-13 13:37:07.884 +02:00 [INF] Content root path: C:\Users\abcha\Desktop\gitRepos\Playground\MagicVilla\MagicVilla_VillaAPI\MagicVilla\MagicVilla_VillaAPI
2024-01-13 13:37:07.884 +02:00 [DBG] Hosting started
2024-01-13 13:37:07.936 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger - null null
2024-01-13 13:37:07.939 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-13 13:37:07.954 +02:00 [DBG] No candidates found for the request path '/swagger'
2024-01-13 13:37:07.954 +02:00 [DBG] Request did not match any endpoints
2024-01-13 13:37:07.984 +02:00 [DBG] Connection ID "18302628920798740486" disconnecting.
2024-01-13 13:37:07.992 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/index.html - null null
2024-01-13 13:37:07.993 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-01-13 13:37:07.993 +02:00 [DBG] Request did not match any endpoints
2024-01-13 13:37:08.005 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger - 301 null null 69.8796ms
2024-01-13 13:37:08.076 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/index.html - 200 null text/html;charset=utf-8 83.5015ms
2024-01-13 13:37:08.076 +02:00 [DBG] Connection ID "18158513702658113573" disconnecting.
2024-01-13 13:37:08.100 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui-bundle.js - null null
2024-01-13 13:37:08.100 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-01-13 13:37:08.100 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui.css - null null
2024-01-13 13:37:08.100 +02:00 [DBG] Request did not match any endpoints
2024-01-13 13:37:08.100 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-01-13 13:37:08.101 +02:00 [DBG] Request did not match any endpoints
2024-01-13 13:37:08.100 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui-standalone-preset.js - null null
2024-01-13 13:37:08.101 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-01-13 13:37:08.101 +02:00 [DBG] Request did not match any endpoints
2024-01-13 13:37:08.120 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-01-13 13:37:08.120 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-01-13 13:37:08.120 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-01-13 13:37:08.148 +02:00 [DBG] Connection ID "18086456104325218347" disconnecting.
2024-01-13 13:37:08.155 +02:00 [DBG] Connection ID "18158513698363146254" disconnecting.
2024-01-13 13:37:08.164 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 66.466ms
2024-01-13 13:37:08.163 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui.css - 200 143943 text/css 59.3298ms
2024-01-13 13:37:08.168 +02:00 [DBG] Connection ID "18014398510287290372" disconnecting.
2024-01-13 13:37:08.168 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 67.4894ms
2024-01-13 13:37:08.301 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - null null
2024-01-13 13:37:08.301 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-01-13 13:37:08.301 +02:00 [DBG] Request did not match any endpoints
2024-01-13 13:37:08.317 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/favicon-32x32.png - null null
2024-01-13 13:37:08.317 +02:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2024-01-13 13:37:08.317 +02:00 [DBG] Request did not match any endpoints
2024-01-13 13:37:08.318 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-01-13 13:37:08.319 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/favicon-32x32.png - 200 628 image/png 1.5583ms
2024-01-13 13:37:08.319 +02:00 [DBG] Connection ID "18158513702658113575" disconnecting.
2024-01-13 13:37:08.436 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 134.782ms
2024-01-13 13:37:08.436 +02:00 [DBG] Connection ID "18302628895028936778" disconnecting.
2024-01-13 13:37:13.561 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/VillaAPI/GetVillas - null null
2024-01-13 13:37:13.575 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaAPI/GetVillas'
2024-01-13 13:37:13.577 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'VillaAPI/GetVillas' is valid for the request path '/VillaAPI/GetVillas'
2024-01-13 13:37:13.578 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI)'
2024-01-13 13:37:13.579 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 13:37:13.580 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI)'
2024-01-13 13:37:13.597 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[MagicVilla_VillaAPI.Models.Dto.VillaDTO]]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI).
2024-01-13 13:37:13.598 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 13:37:13.598 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 13:37:13.599 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 13:37:13.600 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 13:37:13.600 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 13:37:13.601 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 13:37:13.762 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-13 13:37:14.237 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 13:37:14.326 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 13:37:14.385 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2024-01-13 13:37:14.528 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqm (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqm, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-01-13 13:37:14.558 +02:00 [DBG] Creating DbConnection.
2024-01-13 13:37:14.591 +02:00 [DBG] Created DbConnection. (27ms).
2024-01-13 13:37:14.596 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:37:14.996 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:37:15.005 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 13:37:15.011 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-01-13 13:37:15.013 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-01-13 13:37:15.020 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
2024-01-13 13:37:15.076 +02:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
2024-01-13 13:37:15.114 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 13:37:15.133 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 13:37:15.133 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 13:37:15.133 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 13:37:15.138 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:37:15.143 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 61ms reading results.
2024-01-13 13:37:15.146 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:37:15.153 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (5ms).
2024-01-13 13:37:15.170 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 13:37:15.172 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-13 13:37:15.172 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-13 13:37:15.172 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 13:37:15.172 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 13:37:15.173 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 13:37:15.173 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MagicVilla_VillaAPI.Models.Dto.VillaDTO, MagicVilla_VillaAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-13 13:37:15.285 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI) in 1681.9101ms
2024-01-13 13:37:15.287 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI)'
2024-01-13 13:37:15.291 +02:00 [DBG] Connection ID "18374686493361831961" disconnecting.
2024-01-13 13:37:15.294 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 13:37:15.299 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:37:15.300 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-13 13:37:15.301 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/VillaAPI/GetVillas - 200 523 application/json; charset=utf-8 1740.3553ms
2024-01-13 13:37:23.200 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/VillaAPI/6 - null null
2024-01-13 13:37:23.201 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaAPI/6'
2024-01-13 13:37:23.201 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'VillaAPI/{id:int}' is valid for the request path '/VillaAPI/6'
2024-01-13 13:37:23.202 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVilla (MagicVilla_VillaAPI)'
2024-01-13 13:37:23.202 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 13:37:23.202 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVilla (MagicVilla_VillaAPI)'
2024-01-13 13:37:23.214 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.Dto.VillaDTO]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI).
2024-01-13 13:37:23.214 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 13:37:23.214 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 13:37:23.214 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 13:37:23.214 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 13:37:23.214 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 13:37:23.215 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 13:37:23.252 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 13:37:23.253 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 13:37:23.262 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-13 13:37:23.266 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-13 13:37:23.267 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 13:37:23.268 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 13:37:23.268 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-13 13:37:23.271 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-13 13:37:23.292 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Id == __id_0)
    .FirstOrDefault()'
2024-01-13 13:37:23.363 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqm (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqm, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-13 13:37:23.374 +02:00 [DBG] Creating DbConnection.
2024-01-13 13:37:23.374 +02:00 [DBG] Created DbConnection. (0ms).
2024-01-13 13:37:23.374 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:37:23.375 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:37:23.375 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 13:37:23.376 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 13:37:23.379 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-13 13:37:23.382 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2024-01-13 13:37:23.414 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2024-01-13 13:37:23.414 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 13:37:23.415 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:37:23.416 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-01-13 13:37:23.416 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:37:23.416 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 13:37:23.419 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 13:37:23.419 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-13 13:37:23.419 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-13 13:37:23.419 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 13:37:23.419 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 13:37:23.419 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 13:37:23.419 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.Dto.VillaDTO'.
2024-01-13 13:37:23.420 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVilla (MagicVilla_VillaAPI) in 205.6325ms
2024-01-13 13:37:23.420 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVilla (MagicVilla_VillaAPI)'
2024-01-13 13:37:23.420 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 13:37:23.420 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 13:37:23.421 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-13 13:37:23.421 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/VillaAPI/6 - 200 118 application/json; charset=utf-8 221.07ms
2024-01-13 13:37:23.421 +02:00 [DBG] Connection ID "18302628895028936780" disconnecting.
2024-01-13 14:01:16.426 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-13 14:01:16.501 +02:00 [DBG] Hosting starting
2024-01-13 14:01:16.592 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2024-01-13 14:01:16.592 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-13 14:01:16.593 +02:00 [INF] Hosting environment: Development
2024-01-13 14:01:16.593 +02:00 [INF] Content root path: C:\Users\abcha\Desktop\gitRepos\Playground\MagicVilla\MagicVilla_VillaAPI\MagicVilla\MagicVilla_VillaAPI
2024-01-13 14:01:16.601 +02:00 [DBG] Hosting started
2024-01-13 14:01:16.650 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger - null null
2024-01-13 14:01:16.653 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-13 14:01:16.669 +02:00 [DBG] No candidates found for the request path '/swagger'
2024-01-13 14:01:16.669 +02:00 [DBG] Request did not match any endpoints
2024-01-13 14:01:16.704 +02:00 [DBG] Connection ID "18302628899323904048" disconnecting.
2024-01-13 14:01:16.713 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/index.html - null null
2024-01-13 14:01:16.714 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-01-13 14:01:16.714 +02:00 [DBG] Request did not match any endpoints
2024-01-13 14:01:16.729 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger - 301 null null 80.1902ms
2024-01-13 14:01:16.806 +02:00 [DBG] Connection ID "18014398510287290374" disconnecting.
2024-01-13 14:01:16.806 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/index.html - 200 null text/html;charset=utf-8 94.7179ms
2024-01-13 14:01:16.836 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui-bundle.js - null null
2024-01-13 14:01:16.837 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui.css - null null
2024-01-13 14:01:16.837 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-01-13 14:01:16.837 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui-standalone-preset.js - null null
2024-01-13 14:01:16.837 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-01-13 14:01:16.837 +02:00 [DBG] Request did not match any endpoints
2024-01-13 14:01:16.837 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-01-13 14:01:16.837 +02:00 [DBG] Request did not match any endpoints
2024-01-13 14:01:16.837 +02:00 [DBG] Request did not match any endpoints
2024-01-13 14:01:16.855 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-01-13 14:01:16.856 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-01-13 14:01:16.866 +02:00 [DBG] Connection ID "18014398510287290376" disconnecting.
2024-01-13 14:01:16.869 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui.css - 200 143943 text/css 32.071ms
2024-01-13 14:01:16.869 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-01-13 14:01:16.875 +02:00 [DBG] Connection ID "18374686484771897362" disconnecting.
2024-01-13 14:01:16.879 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 42.7542ms
2024-01-13 14:01:16.907 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 70.2667ms
2024-01-13 14:01:16.909 +02:00 [DBG] Connection ID "18158513702658113577" disconnecting.
2024-01-13 14:01:17.147 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - null null
2024-01-13 14:01:17.148 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-01-13 14:01:17.148 +02:00 [DBG] Request did not match any endpoints
2024-01-13 14:01:17.172 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/favicon-32x32.png - null null
2024-01-13 14:01:17.173 +02:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2024-01-13 14:01:17.173 +02:00 [DBG] Request did not match any endpoints
2024-01-13 14:01:17.174 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-01-13 14:01:17.175 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/favicon-32x32.png - 200 628 image/png 2.3246ms
2024-01-13 14:01:17.284 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 136.6843ms
2024-01-13 14:01:17.284 +02:00 [DBG] Connection ID "18374686519131635725" disconnecting.
2024-01-13 14:01:49.107 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/VillaAPI/GetVillas - null null
2024-01-13 14:01:49.119 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaAPI/GetVillas'
2024-01-13 14:01:49.122 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'VillaAPI/GetVillas' is valid for the request path '/VillaAPI/GetVillas'
2024-01-13 14:01:49.122 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI)'
2024-01-13 14:01:49.124 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 14:01:49.124 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI)'
2024-01-13 14:01:49.137 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI).
2024-01-13 14:01:49.139 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 14:01:49.139 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 14:01:49.140 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 14:01:49.140 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 14:01:49.140 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 14:01:49.142 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 14:01:49.308 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-13 14:01:49.798 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 14:01:49.867 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 14:01:49.919 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2024-01-13 14:01:50.057 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqm (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqm, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-01-13 14:01:50.089 +02:00 [DBG] Creating DbConnection.
2024-01-13 14:01:50.116 +02:00 [DBG] Created DbConnection. (27ms).
2024-01-13 14:01:50.121 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:01:50.576 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:01:50.583 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 14:01:50.591 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-13 14:01:50.592 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-01-13 14:01:50.598 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
2024-01-13 14:01:50.652 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
2024-01-13 14:01:50.691 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 14:01:50.710 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 14:01:50.711 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 14:01:50.711 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 14:01:50.716 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:01:50.723 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 63ms reading results.
2024-01-13 14:01:50.727 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:01:50.733 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (5ms).
2024-01-13 14:01:50.750 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 14:01:50.752 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-13 14:01:50.753 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-13 14:01:50.753 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 14:01:50.753 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 14:01:50.754 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 14:01:50.754 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2024-01-13 14:01:50.860 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI) in 1716.521ms
2024-01-13 14:01:50.860 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI)'
2024-01-13 14:01:50.861 +02:00 [DBG] Connection ID "18374686497656799244" disconnecting.
2024-01-13 14:01:50.863 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 14:01:50.866 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:01:50.867 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-13 14:01:50.868 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/VillaAPI/GetVillas - 200 590 application/json; charset=utf-8 1761.379ms
2024-01-13 14:02:42.206 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-13 14:02:42.282 +02:00 [DBG] Hosting starting
2024-01-13 14:02:42.363 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2024-01-13 14:02:42.364 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-13 14:02:42.371 +02:00 [INF] Hosting environment: Development
2024-01-13 14:02:42.371 +02:00 [INF] Content root path: C:\Users\abcha\Desktop\gitRepos\Playground\MagicVilla\MagicVilla_VillaAPI\MagicVilla\MagicVilla_VillaAPI
2024-01-13 14:02:42.371 +02:00 [DBG] Hosting started
2024-01-13 14:02:42.422 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger - null null
2024-01-13 14:02:42.425 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-13 14:02:42.438 +02:00 [DBG] No candidates found for the request path '/swagger'
2024-01-13 14:02:42.438 +02:00 [DBG] Request did not match any endpoints
2024-01-13 14:02:42.476 +02:00 [DBG] Connection ID "18230571305285976088" disconnecting.
2024-01-13 14:02:42.476 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/index.html - null null
2024-01-13 14:02:42.479 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-01-13 14:02:42.479 +02:00 [DBG] Request did not match any endpoints
2024-01-13 14:02:42.497 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger - 301 null null 76.3347ms
2024-01-13 14:02:42.584 +02:00 [DBG] Connection ID "18374686484771897364" disconnecting.
2024-01-13 14:02:42.584 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/index.html - 200 null text/html;charset=utf-8 107.4114ms
2024-01-13 14:02:42.605 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui-bundle.js - null null
2024-01-13 14:02:42.606 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-01-13 14:02:42.607 +02:00 [DBG] Request did not match any endpoints
2024-01-13 14:02:42.607 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui.css - null null
2024-01-13 14:02:42.609 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-01-13 14:02:42.609 +02:00 [DBG] Request did not match any endpoints
2024-01-13 14:02:42.610 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui-standalone-preset.js - null null
2024-01-13 14:02:42.610 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-01-13 14:02:42.610 +02:00 [DBG] Request did not match any endpoints
2024-01-13 14:02:42.623 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-01-13 14:02:42.623 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-01-13 14:02:42.626 +02:00 [DBG] Connection ID "18302628916503773194" disconnecting.
2024-01-13 14:02:42.636 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui.css - 200 143943 text/css 28.8252ms
2024-01-13 14:02:42.639 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-01-13 14:02:42.647 +02:00 [DBG] Connection ID "18230571322465845249" disconnecting.
2024-01-13 14:02:42.647 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 37.2124ms
2024-01-13 14:02:42.672 +02:00 [DBG] Connection ID "18374686510541701126" disconnecting.
2024-01-13 14:02:42.676 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 73.1611ms
2024-01-13 14:02:42.830 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - null null
2024-01-13 14:02:42.830 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-01-13 14:02:42.830 +02:00 [DBG] Request did not match any endpoints
2024-01-13 14:02:42.844 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/favicon-32x32.png - null null
2024-01-13 14:02:42.844 +02:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2024-01-13 14:02:42.844 +02:00 [DBG] Request did not match any endpoints
2024-01-13 14:02:42.845 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-01-13 14:02:42.845 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/favicon-32x32.png - 200 628 image/png 0.8752ms
2024-01-13 14:02:42.845 +02:00 [DBG] Connection ID "18086456104325218349" disconnecting.
2024-01-13 14:02:42.962 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 132.315ms
2024-01-13 14:02:42.962 +02:00 [DBG] Connection ID "18230571305285976090" disconnecting.
2024-01-13 14:02:46.747 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/VillaAPI/GetVillas - null null
2024-01-13 14:02:46.754 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaAPI/GetVillas'
2024-01-13 14:02:46.756 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI)' with route pattern 'VillaAPI/GetVillas' is valid for the request path '/VillaAPI/GetVillas'
2024-01-13 14:02:46.756 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI)'
2024-01-13 14:02:46.757 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 14:02:46.758 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI)'
2024-01-13 14:02:46.771 +02:00 [INF] Route matched with {action = "GetVillas", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillas() on controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI).
2024-01-13 14:02:46.772 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 14:02:46.772 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 14:02:46.773 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 14:02:46.773 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 14:02:46.773 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 14:02:46.774 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 14:02:46.936 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-13 14:02:47.436 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 14:02:47.519 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 14:02:47.575 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()'
2024-01-13 14:02:47.712 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqm (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqm, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-01-13 14:02:47.740 +02:00 [DBG] Creating DbConnection.
2024-01-13 14:02:47.766 +02:00 [DBG] Created DbConnection. (23ms).
2024-01-13 14:02:47.769 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:02:48.203 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:02:48.210 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 14:02:48.218 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-01-13 14:02:48.220 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-01-13 14:02:48.228 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
2024-01-13 14:02:48.280 +02:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
2024-01-13 14:02:48.319 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 14:02:48.339 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 14:02:48.339 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 14:02:48.339 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 14:02:48.344 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:02:48.349 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 63ms reading results.
2024-01-13 14:02:48.354 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:02:48.360 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (5ms).
2024-01-13 14:02:48.377 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 14:02:48.378 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-13 14:02:48.379 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-13 14:02:48.379 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 14:02:48.379 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 14:02:48.379 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 14:02:48.379 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2024-01-13 14:02:48.487 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI) in 1711.5227ms
2024-01-13 14:02:48.488 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVillas (MagicVilla_VillaAPI)'
2024-01-13 14:02:48.488 +02:00 [DBG] Connection ID "18230571305285976092" disconnecting.
2024-01-13 14:02:48.492 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 14:02:48.497 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:02:48.498 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-13 14:02:48.498 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/VillaAPI/GetVillas - 200 589 application/json; charset=utf-8 1751.775ms
2024-01-13 14:03:37.340 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44395/VillaAPI/CreateVilla - application/json-patch+json 146
2024-01-13 14:03:37.343 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaAPI/CreateVilla'
2024-01-13 14:03:37.343 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.CreateVilla (MagicVilla_VillaAPI)' with route pattern 'VillaAPI/CreateVilla' is valid for the request path '/VillaAPI/CreateVilla'
2024-01-13 14:03:37.343 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.CreateVilla (MagicVilla_VillaAPI)'
2024-01-13 14:03:37.343 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 14:03:37.343 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.CreateVilla (MagicVilla_VillaAPI)'
2024-01-13 14:03:37.352 +02:00 [INF] Route matched with {action = "CreateVilla", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVilla(MagicVilla_VillaAPI.Models.Dto.VillaCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI).
2024-01-13 14:03:37.352 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 14:03:37.352 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 14:03:37.352 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 14:03:37.352 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 14:03:37.352 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 14:03:37.352 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 14:03:37.375 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 14:03:37.375 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 14:03:37.388 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2024-01-13 14:03:37.390 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' using the name '' in request data ...
2024-01-13 14:03:37.390 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-13 14:03:37.391 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-13 14:03:37.424 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2024-01-13 14:03:37.424 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2024-01-13 14:03:37.424 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto' ...
2024-01-13 14:03:37.431 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaCreateDto'.
2024-01-13 14:03:37.446 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Name.ToLower() == __ToLower_0)
    .FirstOrDefault()'
2024-01-13 14:03:37.528 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqm (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqm, v.UpdatedDate
            FROM Villas AS v
            WHERE LOWER(v.Name) == @__ToLower_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-13 14:03:37.541 +02:00 [DBG] Creating DbConnection.
2024-01-13 14:03:37.541 +02:00 [DBG] Created DbConnection. (0ms).
2024-01-13 14:03:37.541 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:03:37.542 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:03:37.542 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 14:03:37.542 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 14:03:37.545 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-13 14:03:37.547 +02:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE LOWER([v].[Name]) = @__ToLower_0
2024-01-13 14:03:37.584 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE LOWER([v].[Name]) = @__ToLower_0
2024-01-13 14:03:37.585 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:03:37.585 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-01-13 14:03:37.586 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:03:37.586 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 14:03:37.615 +02:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Villa.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 14:03:37.623 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 14:03:37.626 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-01-13 14:03:37.629 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-01-13 14:03:37.644 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-01-13 14:03:37.694 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:03:37.694 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:03:37.696 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 14:03:37.697 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 14:03:37.697 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 14:03:37.698 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Villas] ([Amenity], [CreatedDate], [Details], [ImageUrl], [Name], [Occupancy], [Rate], [Sqm], [UpdatedDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2024-01-13 14:03:37.705 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Villas] ([Amenity], [CreatedDate], [Details], [ImageUrl], [Name], [Occupancy], [Rate], [Sqm], [UpdatedDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2024-01-13 14:03:37.716 +02:00 [DBG] The foreign key property 'Villa.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-13 14:03:37.721 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:03:37.721 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 15ms reading results.
2024-01-13 14:03:37.722 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:03:37.722 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 14:03:37.731 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 14:03:37.734 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-01-13 14:03:37.736 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 14:03:37.736 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-13 14:03:37.736 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-13 14:03:37.736 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 14:03:37.736 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 14:03:37.736 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 14:03:37.736 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2024-01-13 14:03:37.749 +02:00 [DBG] Found the endpoints ["MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVilla (MagicVilla_VillaAPI)"] for address GetVilla(id=[7])
2024-01-13 14:03:37.752 +02:00 [DBG] Successfully processed template VillaAPI/{id:int} for MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVilla (MagicVilla_VillaAPI) resulting in /VillaAPI/7 and 
2024-01-13 14:03:37.753 +02:00 [DBG] Link generation succeeded for endpoints ["MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVilla (MagicVilla_VillaAPI)"] with result /VillaAPI/7
2024-01-13 14:03:37.754 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaAPIController.CreateVilla (MagicVilla_VillaAPI) in 401.719ms
2024-01-13 14:03:37.754 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.CreateVilla (MagicVilla_VillaAPI)'
2024-01-13 14:03:37.754 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 14:03:37.754 +02:00 [DBG] Connection ID "18230571305285976094" disconnecting.
2024-01-13 14:03:37.754 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:03:37.754 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-13 14:03:37.754 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44395/VillaAPI/CreateVilla - 201 192 application/json; charset=utf-8 414.5036ms
2024-01-13 14:04:02.322 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/VillaAPI/7 - null null
2024-01-13 14:04:02.323 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaAPI/7'
2024-01-13 14:04:02.323 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'VillaAPI/{id:int}' is valid for the request path '/VillaAPI/7'
2024-01-13 14:04:02.323 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVilla (MagicVilla_VillaAPI)'
2024-01-13 14:04:02.323 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 14:04:02.323 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVilla (MagicVilla_VillaAPI)'
2024-01-13 14:04:02.329 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI).
2024-01-13 14:04:02.329 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 14:04:02.329 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 14:04:02.329 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 14:04:02.329 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 14:04:02.330 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 14:04:02.330 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 14:04:02.334 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 14:04:02.335 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 14:04:02.337 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-13 14:04:02.341 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-13 14:04:02.342 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 14:04:02.342 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 14:04:02.342 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-13 14:04:02.342 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-13 14:04:02.345 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Id == __id_0)
    .FirstOrDefault()'
2024-01-13 14:04:02.348 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqm (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqm, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-13 14:04:02.348 +02:00 [DBG] Creating DbConnection.
2024-01-13 14:04:02.348 +02:00 [DBG] Created DbConnection. (0ms).
2024-01-13 14:04:02.348 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:04:02.348 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:04:02.349 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 14:04:02.349 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 14:04:02.349 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 14:04:02.349 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2024-01-13 14:04:02.352 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2024-01-13 14:04:02.352 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 14:04:02.352 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:04:02.352 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-01-13 14:04:02.352 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:04:02.352 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 14:04:02.353 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 14:04:02.354 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-13 14:04:02.354 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-13 14:04:02.354 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 14:04:02.354 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 14:04:02.354 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 14:04:02.354 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2024-01-13 14:04:02.354 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVilla (MagicVilla_VillaAPI) in 24.5926ms
2024-01-13 14:04:02.354 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVilla (MagicVilla_VillaAPI)'
2024-01-13 14:04:02.354 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 14:04:02.354 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:04:02.354 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-13 14:04:02.355 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/VillaAPI/7 - 200 192 application/json; charset=utf-8 35.3544ms
2024-01-13 14:04:02.355 +02:00 [DBG] Connection ID "18302628895028936783" disconnecting.
2024-01-13 14:04:26.968 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:44395/VillaAPI?id=7 - application/json-patch+json 141
2024-01-13 14:04:26.968 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaAPI'
2024-01-13 14:04:26.968 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.UpdateVilla (MagicVilla_VillaAPI)' with route pattern 'VillaAPI' is valid for the request path '/VillaAPI'
2024-01-13 14:04:26.968 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.UpdateVilla (MagicVilla_VillaAPI)'
2024-01-13 14:04:26.969 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 14:04:26.969 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.UpdateVilla (MagicVilla_VillaAPI)'
2024-01-13 14:04:26.971 +02:00 [INF] Route matched with {action = "UpdateVilla", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVilla(Int32, MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI).
2024-01-13 14:04:26.971 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 14:04:26.971 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 14:04:26.971 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 14:04:26.972 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 14:04:26.972 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 14:04:26.972 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 14:04:26.973 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 14:04:26.973 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 14:04:26.977 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-13 14:04:26.977 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-13 14:04:26.978 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 14:04:26.978 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 14:04:26.978 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-13 14:04:26.979 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-13 14:04:26.979 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2024-01-13 14:04:26.979 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' using the name '' in request data ...
2024-01-13 14:04:26.979 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-13 14:04:26.979 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-13 14:04:26.982 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2024-01-13 14:04:26.982 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2024-01-13 14:04:26.982 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto' ...
2024-01-13 14:04:26.985 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaUpdateDto'.
2024-01-13 14:04:26.990 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 14:04:26.990 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-01-13 14:04:26.990 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-01-13 14:04:26.990 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-01-13 14:04:26.995 +02:00 [DBG] Creating DbConnection.
2024-01-13 14:04:26.995 +02:00 [DBG] Created DbConnection. (0ms).
2024-01-13 14:04:26.995 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:04:26.995 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:04:26.996 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 14:04:26.996 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 14:04:26.996 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 14:04:26.996 +02:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Villas] SET [Amenity] = @p0, [CreatedDate] = @p1, [Details] = @p2, [ImageUrl] = @p3, [Name] = @p4, [Occupancy] = @p5, [Rate] = @p6, [Sqm] = @p7, [UpdatedDate] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2024-01-13 14:04:27.007 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Double), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Villas] SET [Amenity] = @p0, [CreatedDate] = @p1, [Details] = @p2, [ImageUrl] = @p3, [Name] = @p4, [Occupancy] = @p5, [Rate] = @p6, [Sqm] = @p7, [UpdatedDate] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2024-01-13 14:04:27.011 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:04:27.011 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-01-13 14:04:27.012 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:04:27.012 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 14:04:27.012 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 14:04:27.012 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-01-13 14:04:27.012 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 14:04:27.012 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-13 14:04:27.012 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 14:04:27.012 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 14:04:27.012 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 14:04:27.013 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2024-01-13 14:04:27.013 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaAPIController.UpdateVilla (MagicVilla_VillaAPI) in 41.4429ms
2024-01-13 14:04:27.013 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.UpdateVilla (MagicVilla_VillaAPI)'
2024-01-13 14:04:27.013 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 14:04:27.013 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:04:27.013 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-13 14:04:27.013 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:44395/VillaAPI?id=7 - 200 70 application/json; charset=utf-8 45.5655ms
2024-01-13 14:05:00.983 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:44395/VillaAPI/7 - null null
2024-01-13 14:05:00.983 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaAPI/7'
2024-01-13 14:05:00.983 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.DeleteVilla (MagicVilla_VillaAPI)' with route pattern 'VillaAPI/{id:int}' is valid for the request path '/VillaAPI/7'
2024-01-13 14:05:00.983 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.DeleteVilla (MagicVilla_VillaAPI)'
2024-01-13 14:05:00.983 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 14:05:00.983 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.DeleteVilla (MagicVilla_VillaAPI)'
2024-01-13 14:05:00.985 +02:00 [INF] Route matched with {action = "DeleteVilla", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] DeleteVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI).
2024-01-13 14:05:00.986 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 14:05:00.986 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 14:05:00.986 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 14:05:00.986 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 14:05:00.986 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 14:05:00.986 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 14:05:00.987 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 14:05:00.988 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 14:05:00.988 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-13 14:05:00.989 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-13 14:05:00.989 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 14:05:00.989 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 14:05:00.989 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-13 14:05:00.989 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-13 14:05:00.993 +02:00 [DBG] Creating DbConnection.
2024-01-13 14:05:00.993 +02:00 [DBG] Created DbConnection. (0ms).
2024-01-13 14:05:00.993 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:05:00.994 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:05:00.994 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 14:05:00.994 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 14:05:00.994 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 14:05:00.994 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2024-01-13 14:05:00.997 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2024-01-13 14:05:00.997 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 14:05:00.997 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:05:00.997 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-01-13 14:05:00.997 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:05:00.997 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 14:05:01.006 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 14:05:01.008 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-01-13 14:05:01.008 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-01-13 14:05:01.008 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-01-13 14:05:01.011 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:05:01.011 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:05:01.011 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 14:05:01.011 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 14:05:01.011 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 14:05:01.011 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Villas]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-13 14:05:01.017 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Villas]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-13 14:05:01.017 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:05:01.017 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-01-13 14:05:01.017 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:05:01.017 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 14:05:01.020 +02:00 [DBG] An entity of type 'Villa' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 14:05:01.020 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-01-13 14:05:01.020 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 14:05:01.020 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-13 14:05:01.020 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 14:05:01.020 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 14:05:01.020 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 14:05:01.020 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2024-01-13 14:05:01.021 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaAPIController.DeleteVilla (MagicVilla_VillaAPI) in 35.0198ms
2024-01-13 14:05:01.021 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.DeleteVilla (MagicVilla_VillaAPI)'
2024-01-13 14:05:01.021 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 14:05:01.021 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:05:01.021 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-13 14:05:01.021 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:44395/VillaAPI/7 - 200 70 application/json; charset=utf-8 38.1638ms
2024-01-13 14:05:01.021 +02:00 [DBG] Connection ID "18302628895028936785" disconnecting.
2024-01-13 14:05:05.390 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:44395/VillaAPI/7 - null null
2024-01-13 14:05:05.391 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaAPI/7'
2024-01-13 14:05:05.391 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.DeleteVilla (MagicVilla_VillaAPI)' with route pattern 'VillaAPI/{id:int}' is valid for the request path '/VillaAPI/7'
2024-01-13 14:05:05.391 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.DeleteVilla (MagicVilla_VillaAPI)'
2024-01-13 14:05:05.391 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 14:05:05.391 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.DeleteVilla (MagicVilla_VillaAPI)'
2024-01-13 14:05:05.391 +02:00 [INF] Route matched with {action = "DeleteVilla", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] DeleteVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI).
2024-01-13 14:05:05.391 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 14:05:05.391 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 14:05:05.391 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 14:05:05.391 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 14:05:05.391 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 14:05:05.391 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 14:05:05.393 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 14:05:05.393 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 14:05:05.393 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-13 14:05:05.393 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-13 14:05:05.393 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 14:05:05.393 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 14:05:05.393 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-13 14:05:05.393 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-13 14:05:05.394 +02:00 [DBG] Creating DbConnection.
2024-01-13 14:05:05.394 +02:00 [DBG] Created DbConnection. (0ms).
2024-01-13 14:05:05.394 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:05:05.394 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:05:05.394 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 14:05:05.394 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 14:05:05.394 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 14:05:05.394 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2024-01-13 14:05:05.398 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2024-01-13 14:05:05.398 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:05:05.398 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-01-13 14:05:05.399 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:05:05.399 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 14:05:05.400 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 14:05:05.400 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-13 14:05:05.400 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-13 14:05:05.400 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-13 14:05:05.401 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-13 14:05:05.414 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaAPIController.DeleteVilla (MagicVilla_VillaAPI) in 22.7347ms
2024-01-13 14:05:05.414 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.DeleteVilla (MagicVilla_VillaAPI)'
2024-01-13 14:05:05.414 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 14:05:05.415 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:05:05.415 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-13 14:05:05.415 +02:00 [DBG] Connection ID "18302628933683642374" disconnecting.
2024-01-13 14:05:05.415 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:44395/VillaAPI/7 - 404 162 application/problem+json; charset=utf-8 24.3478ms
2024-01-13 14:35:09.205 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-13 14:35:09.461 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 14:35:11.839 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 14:35:47.647 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-13 14:35:47.862 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 14:35:47.870 +02:00 [DBG] Creating DbConnection.
2024-01-13 14:35:47.887 +02:00 [DBG] Created DbConnection. (15ms).
2024-01-13 14:35:47.889 +02:00 [DBG] Migrating using database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:35:47.891 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:35:48.063 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:35:48.065 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-13 14:35:48.068 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-13 14:35:48.069 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-13 14:35:48.071 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-13 14:35:48.084 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-13 14:35:48.085 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:35:48.088 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (1ms).
2024-01-13 14:35:48.089 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-13 14:35:48.089 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-13 14:35:48.089 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-13 14:35:48.089 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:35:48.089 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:35:48.090 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-13 14:35:48.110 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-13 14:35:48.110 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:35:48.110 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 14:35:48.111 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:35:48.111 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:35:48.111 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-13 14:35:48.111 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-13 14:35:48.111 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-13 14:35:48.111 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-13 14:35:48.113 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-13 14:35:48.113 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:35:48.113 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 14:35:48.113 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-13 14:35:48.113 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-13 14:35:48.113 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-13 14:35:48.113 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:35:48.113 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:35:48.114 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-13 14:35:48.114 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-13 14:35:48.114 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:35:48.114 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 14:35:48.123 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:35:48.123 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:35:48.123 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 14:35:48.123 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 14:35:48.123 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 14:35:48.123 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-13 14:35:48.137 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-13 14:35:48.138 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:35:48.138 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-01-13 14:35:48.138 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:35:48.138 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 14:35:48.146 +02:00 [INF] Applying migration '20240113123511_addVillaNumberToDb'.
2024-01-13 14:35:48.159 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:35:48.159 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:35:48.159 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-01-13 14:35:48.164 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-01-13 14:35:48.164 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-13 14:35:48.164 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-13 14:35:48.165 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-13 14:35:48.165 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [VillaNumbers] (
    [VillaNo] int NOT NULL,
    [SpecialDetails] nvarchar(max) NOT NULL,
    [CreatedDate] datetime2 NOT NULL,
    [UpdatedDate] datetime2 NOT NULL,
    CONSTRAINT [PK_VillaNumbers] PRIMARY KEY ([VillaNo])
);
2024-01-13 14:35:48.171 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [VillaNumbers] (
    [VillaNo] int NOT NULL,
    [SpecialDetails] nvarchar(max) NOT NULL,
    [CreatedDate] datetime2 NOT NULL,
    [UpdatedDate] datetime2 NOT NULL,
    CONSTRAINT [PK_VillaNumbers] PRIMARY KEY ([VillaNo])
);
2024-01-13 14:35:48.171 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-13 14:35:48.171 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-13 14:35:48.171 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-13 14:35:48.171 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240113123511_addVillaNumberToDb', N'8.0.0');
2024-01-13 14:35:48.174 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240113123511_addVillaNumberToDb', N'8.0.0');
2024-01-13 14:35:48.174 +02:00 [DBG] Committing transaction.
2024-01-13 14:35:48.176 +02:00 [DBG] Committed transaction.
2024-01-13 14:35:48.177 +02:00 [DBG] Disposing transaction.
2024-01-13 14:35:48.177 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:35:48.177 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 14:35:48.178 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 14:35:48.178 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 14:35:48.179 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-13 15:05:37.775 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-13 15:05:37.860 +02:00 [DBG] Hosting starting
2024-01-13 15:05:37.948 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2024-01-13 15:05:37.948 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-13 15:05:37.949 +02:00 [INF] Hosting environment: Development
2024-01-13 15:05:37.949 +02:00 [INF] Content root path: C:\Users\abcha\Desktop\gitRepos\Playground\MagicVilla\MagicVilla_VillaAPI\MagicVilla\MagicVilla_VillaAPI
2024-01-13 15:05:37.949 +02:00 [DBG] Hosting started
2024-01-13 15:05:38.011 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger - null null
2024-01-13 15:05:38.014 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-13 15:05:38.045 +02:00 [DBG] No candidates found for the request path '/swagger'
2024-01-13 15:05:38.046 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:05:38.094 +02:00 [DBG] Connection ID "18086456104325218351" disconnecting.
2024-01-13 15:05:38.098 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/index.html - null null
2024-01-13 15:05:38.098 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-01-13 15:05:38.099 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:05:38.111 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger - 301 null null 100.8389ms
2024-01-13 15:05:38.200 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/index.html - 200 null text/html;charset=utf-8 97.3003ms
2024-01-13 15:05:38.200 +02:00 [DBG] Connection ID "18374686497656799246" disconnecting.
2024-01-13 15:05:38.224 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui.css - null null
2024-01-13 15:05:38.224 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui-bundle.js - null null
2024-01-13 15:05:38.224 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-01-13 15:05:38.224 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-01-13 15:05:38.225 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:05:38.225 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:05:38.227 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui-standalone-preset.js - null null
2024-01-13 15:05:38.227 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-01-13 15:05:38.228 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:05:38.253 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-01-13 15:05:38.253 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-01-13 15:05:38.253 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-01-13 15:05:38.254 +02:00 [DBG] Connection ID "18374686523426603011" disconnecting.
2024-01-13 15:05:38.260 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui.css - 200 143943 text/css 37.6275ms
2024-01-13 15:05:38.261 +02:00 [DBG] Connection ID "18230571335350747137" disconnecting.
2024-01-13 15:05:38.267 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 39.8961ms
2024-01-13 15:05:38.279 +02:00 [DBG] Connection ID "18302628929388675075" disconnecting.
2024-01-13 15:05:38.279 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 54.4024ms
2024-01-13 15:05:38.398 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - null null
2024-01-13 15:05:38.398 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-01-13 15:05:38.398 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:05:38.406 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/favicon-32x32.png - null null
2024-01-13 15:05:38.406 +02:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2024-01-13 15:05:38.406 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:05:38.406 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-01-13 15:05:38.407 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/favicon-32x32.png - 200 628 image/png 0.7701ms
2024-01-13 15:05:38.520 +02:00 [DBG] Connection ID "18086456104325218353" disconnecting.
2024-01-13 15:05:38.520 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 121.2955ms
2024-01-13 15:06:11.862 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44395/VillaNumberApi/CreateVillaNumber - application/json-patch+json 50
2024-01-13 15:06:11.868 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaNumberApi/CreateVillaNumber'
2024-01-13 15:06:11.870 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI)' with route pattern 'VillaNumberApi/CreateVillaNumber' is valid for the request path '/VillaNumberApi/CreateVillaNumber'
2024-01-13 15:06:11.870 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:06:11.871 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 15:06:11.871 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:06:11.884 +02:00 [INF] Route matched with {action = "CreateVillaNumber", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVillaNumber(MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI).
2024-01-13 15:06:11.885 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 15:06:11.885 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 15:06:11.886 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 15:06:11.886 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 15:06:11.886 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 15:06:11.886 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:06:12.269 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-13 15:06:12.587 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 15:06:12.671 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:06:12.675 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto' ...
2024-01-13 15:06:12.677 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto' using the name '' in request data ...
2024-01-13 15:06:12.677 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-13 15:06:12.678 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-13 15:06:12.762 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto'.
2024-01-13 15:06:12.762 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto'.
2024-01-13 15:06:12.762 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto' ...
2024-01-13 15:06:12.767 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto'.
2024-01-13 15:06:13.126 +02:00 [DBG] Compiling query expression: 
'DbSet<VillaNumber>()
    .Where(v => v.VillaNo == __createDto_VillaNo_0)
    .FirstOrDefault()'
2024-01-13 15:06:13.248 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<VillaNumber>(
    asyncEnumerable: new SingleQueryingEnumerable<VillaNumber>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: VillaNumber.VillaNo (int) Required PK AfterSave:Throw, 0], [Property: VillaNumber.CreatedDate (DateTime) Required, 1], [Property: VillaNumber.SpecialDetails (string) Required, 2], [Property: VillaNumber.UpdatedDate (DateTime) Required, 3] }
            SELECT TOP(1) v.VillaNo, v.CreatedDate, v.SpecialDetails, v.UpdatedDate
            FROM VillaNumbers AS v
            WHERE v.VillaNo == @__createDto_VillaNo_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, VillaNumber>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-13 15:06:13.271 +02:00 [DBG] Creating DbConnection.
2024-01-13 15:06:13.291 +02:00 [DBG] Created DbConnection. (17ms).
2024-01-13 15:06:13.294 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:06:14.130 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:06:14.137 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 15:06:14.147 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-01-13 15:06:14.154 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2024-01-13 15:06:14.160 +02:00 [DBG] Executing DbCommand [Parameters=[@__createDto_VillaNo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate]
FROM [VillaNumbers] AS [v]
WHERE [v].[VillaNo] = @__createDto_VillaNo_0
2024-01-13 15:06:14.308 +02:00 [INF] Executed DbCommand (150ms) [Parameters=[@__createDto_VillaNo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate]
FROM [VillaNumbers] AS [v]
WHERE [v].[VillaNo] = @__createDto_VillaNo_0
2024-01-13 15:06:14.327 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:06:14.338 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 22ms reading results.
2024-01-13 15:06:14.342 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:06:14.351 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (8ms).
2024-01-13 15:06:14.428 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'VillaNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 15:06:14.433 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-01-13 15:06:14.435 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-01-13 15:06:14.446 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-01-13 15:06:14.487 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:06:14.488 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:06:14.491 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 15:06:14.491 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:06:14.492 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-01-13 15:06:14.492 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [VillaNumbers] ([VillaNo], [CreatedDate], [SpecialDetails], [UpdatedDate])
VALUES (@p0, @p1, @p2, @p3);
2024-01-13 15:06:14.500 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [VillaNumbers] ([VillaNo], [CreatedDate], [SpecialDetails], [UpdatedDate])
VALUES (@p0, @p1, @p2, @p3);
2024-01-13 15:06:14.502 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:06:14.502 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-01-13 15:06:14.503 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:06:14.503 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 15:06:14.508 +02:00 [DBG] An entity of type 'VillaNumber' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 15:06:14.509 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-01-13 15:06:14.516 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 15:06:14.517 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-13 15:06:14.517 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-13 15:06:14.517 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 15:06:14.517 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 15:06:14.518 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 15:06:14.518 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2024-01-13 15:06:14.529 +02:00 [DBG] Found the endpoints ["MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI)"] for address GetVillaNumber(id=[101])
2024-01-13 15:06:14.533 +02:00 [DBG] Successfully processed template VillaNumberApi/{id:int} for MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI) resulting in /VillaNumberApi/101 and 
2024-01-13 15:06:14.534 +02:00 [DBG] Link generation succeeded for endpoints ["MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI)"] with result /VillaNumberApi/101
2024-01-13 15:06:14.571 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI) in 2679.7802ms
2024-01-13 15:06:14.572 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:06:14.579 +02:00 [DBG] Connection ID "18374686497656799248" disconnecting.
2024-01-13 15:06:14.581 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 15:06:14.586 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:06:14.587 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-13 15:06:14.587 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44395/VillaNumberApi/CreateVillaNumber - 201 107 application/json; charset=utf-8 2725.3923ms
2024-01-13 15:07:05.252 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/VillaNumberApi/GetVillaNumbers - null null
2024-01-13 15:07:05.252 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaNumberApi/GetVillaNumbers'
2024-01-13 15:07:05.252 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI)' with route pattern 'VillaNumberApi/GetVillaNumbers' is valid for the request path '/VillaNumberApi/GetVillaNumbers'
2024-01-13 15:07:05.254 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI)'
2024-01-13 15:07:05.255 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 15:07:05.255 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI)'
2024-01-13 15:07:05.259 +02:00 [INF] Route matched with {action = "GetVillaNumbers", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillaNumbers() on controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI).
2024-01-13 15:07:05.259 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 15:07:05.259 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 15:07:05.259 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 15:07:05.259 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 15:07:05.259 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 15:07:05.259 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:07:05.283 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 15:07:05.283 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:07:05.293 +02:00 [DBG] Compiling query expression: 
'DbSet<VillaNumber>()'
2024-01-13 15:07:05.297 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<VillaNumber>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: VillaNumber.VillaNo (int) Required PK AfterSave:Throw, 0], [Property: VillaNumber.CreatedDate (DateTime) Required, 1], [Property: VillaNumber.SpecialDetails (string) Required, 2], [Property: VillaNumber.UpdatedDate (DateTime) Required, 3] }
        SELECT v.VillaNo, v.CreatedDate, v.SpecialDetails, v.UpdatedDate
        FROM VillaNumbers AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, VillaNumber>, 
    MagicVilla_VillaAPI.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-01-13 15:07:05.298 +02:00 [DBG] Creating DbConnection.
2024-01-13 15:07:05.298 +02:00 [DBG] Created DbConnection. (0ms).
2024-01-13 15:07:05.299 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:07:05.299 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:07:05.299 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 15:07:05.299 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:07:05.299 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:07:05.299 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate]
FROM [VillaNumbers] AS [v]
2024-01-13 15:07:05.309 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate]
FROM [VillaNumbers] AS [v]
2024-01-13 15:07:05.321 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'VillaNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 15:07:05.323 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:07:05.323 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 13ms reading results.
2024-01-13 15:07:05.323 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:07:05.324 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 15:07:05.336 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 15:07:05.336 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-13 15:07:05.336 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-13 15:07:05.336 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 15:07:05.336 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 15:07:05.336 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 15:07:05.336 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2024-01-13 15:07:05.339 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI) in 79.9243ms
2024-01-13 15:07:05.339 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI)'
2024-01-13 15:07:05.340 +02:00 [DBG] Connection ID "18374686519131635727" disconnecting.
2024-01-13 15:07:05.340 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 15:07:05.340 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:07:05.340 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-13 15:07:05.340 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/VillaNumberApi/GetVillaNumbers - 200 109 application/json; charset=utf-8 88.6678ms
2024-01-13 15:07:13.281 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/VillaNumberApi/1 - null null
2024-01-13 15:07:13.281 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaNumberApi/1'
2024-01-13 15:07:13.282 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI)' with route pattern 'VillaNumberApi/{id:int}' is valid for the request path '/VillaNumberApi/1'
2024-01-13 15:07:13.282 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:07:13.282 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 15:07:13.282 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:07:13.285 +02:00 [INF] Route matched with {action = "GetVillaNumber", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillaNumber(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI).
2024-01-13 15:07:13.285 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 15:07:13.285 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 15:07:13.285 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 15:07:13.285 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 15:07:13.285 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 15:07:13.285 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:07:13.288 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 15:07:13.288 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:07:13.288 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-13 15:07:13.289 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-13 15:07:13.289 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 15:07:13.289 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 15:07:13.289 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-13 15:07:13.289 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-13 15:07:13.291 +02:00 [DBG] Compiling query expression: 
'DbSet<VillaNumber>()
    .Where(v => v.VillaNo == __id_0)
    .FirstOrDefault()'
2024-01-13 15:07:13.296 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<VillaNumber>(
    asyncEnumerable: new SingleQueryingEnumerable<VillaNumber>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: VillaNumber.VillaNo (int) Required PK AfterSave:Throw, 0], [Property: VillaNumber.CreatedDate (DateTime) Required, 1], [Property: VillaNumber.SpecialDetails (string) Required, 2], [Property: VillaNumber.UpdatedDate (DateTime) Required, 3] }
            SELECT TOP(1) v.VillaNo, v.CreatedDate, v.SpecialDetails, v.UpdatedDate
            FROM VillaNumbers AS v
            WHERE v.VillaNo == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, VillaNumber>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-13 15:07:13.296 +02:00 [DBG] Creating DbConnection.
2024-01-13 15:07:13.296 +02:00 [DBG] Created DbConnection. (0ms).
2024-01-13 15:07:13.296 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:07:13.296 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:07:13.296 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 15:07:13.297 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:07:13.297 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:07:13.297 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate]
FROM [VillaNumbers] AS [v]
WHERE [v].[VillaNo] = @__id_0
2024-01-13 15:07:13.303 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate]
FROM [VillaNumbers] AS [v]
WHERE [v].[VillaNo] = @__id_0
2024-01-13 15:07:13.303 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:07:13.303 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-01-13 15:07:13.304 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:07:13.304 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 15:07:13.304 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 15:07:13.304 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-13 15:07:13.304 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-13 15:07:13.304 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 15:07:13.304 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 15:07:13.304 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 15:07:13.304 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2024-01-13 15:07:13.305 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI) in 20.5398ms
2024-01-13 15:07:13.306 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:07:13.306 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 15:07:13.306 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:07:13.306 +02:00 [DBG] Connection ID "18158513724132950024" disconnecting.
2024-01-13 15:07:13.306 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-13 15:07:13.306 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/VillaNumberApi/1 - 404 70 application/json; charset=utf-8 24.8986ms
2024-01-13 15:07:34.298 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/VillaNumberApi/101 - null null
2024-01-13 15:07:34.298 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaNumberApi/101'
2024-01-13 15:07:34.301 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI)' with route pattern 'VillaNumberApi/{id:int}' is valid for the request path '/VillaNumberApi/101'
2024-01-13 15:07:34.301 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:07:34.304 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 15:07:34.304 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:07:34.304 +02:00 [INF] Route matched with {action = "GetVillaNumber", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillaNumber(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI).
2024-01-13 15:07:34.304 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 15:07:34.304 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 15:07:34.305 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 15:07:34.305 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 15:07:34.305 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 15:07:34.305 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:07:34.307 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 15:07:34.307 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:07:34.307 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-13 15:07:34.307 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-13 15:07:34.307 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 15:07:34.307 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 15:07:34.307 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-13 15:07:34.307 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-13 15:07:34.309 +02:00 [DBG] Creating DbConnection.
2024-01-13 15:07:34.309 +02:00 [DBG] Created DbConnection. (0ms).
2024-01-13 15:07:34.309 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:07:34.310 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:07:34.310 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 15:07:34.310 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:07:34.310 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:07:34.310 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate]
FROM [VillaNumbers] AS [v]
WHERE [v].[VillaNo] = @__id_0
2024-01-13 15:07:34.314 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate]
FROM [VillaNumbers] AS [v]
WHERE [v].[VillaNo] = @__id_0
2024-01-13 15:07:34.318 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'VillaNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 15:07:34.318 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:07:34.319 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-01-13 15:07:34.319 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:07:34.319 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 15:07:34.321 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 15:07:34.321 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-13 15:07:34.321 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-13 15:07:34.321 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 15:07:34.321 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 15:07:34.321 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 15:07:34.321 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2024-01-13 15:07:34.322 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI) in 16.9586ms
2024-01-13 15:07:34.322 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:07:34.322 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 15:07:34.322 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:07:34.322 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-13 15:07:34.324 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/VillaNumberApi/101 - 200 107 application/json; charset=utf-8 25.0227ms
2024-01-13 15:07:34.326 +02:00 [DBG] Connection ID "18086456104325218355" disconnecting.
2024-01-13 15:07:55.442 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:44395/VillaNumberApi?id=101 - application/json-patch+json 55
2024-01-13 15:07:55.442 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaNumberApi'
2024-01-13 15:07:55.442 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.UpdateVillaNumber (MagicVilla_VillaAPI)' with route pattern 'VillaNumberApi' is valid for the request path '/VillaNumberApi'
2024-01-13 15:07:55.443 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.UpdateVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:07:55.474 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 15:07:55.474 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.UpdateVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:07:55.478 +02:00 [INF] Route matched with {action = "UpdateVillaNumber", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVillaNumber(Int32, MagicVilla_VillaAPI.Models.Dto.VillaNumberUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI).
2024-01-13 15:07:55.478 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 15:07:55.478 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 15:07:55.478 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 15:07:55.478 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 15:07:55.478 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 15:07:55.478 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:07:55.480 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 15:07:55.480 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:07:55.483 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-13 15:07:55.484 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-13 15:07:55.484 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 15:07:55.484 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 15:07:55.484 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-13 15:07:55.485 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-13 15:07:55.485 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberUpdateDto' ...
2024-01-13 15:07:55.485 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberUpdateDto' using the name '' in request data ...
2024-01-13 15:07:55.485 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-13 15:07:55.485 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-13 15:07:55.486 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberUpdateDto'.
2024-01-13 15:07:55.486 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberUpdateDto'.
2024-01-13 15:07:55.486 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberUpdateDto' ...
2024-01-13 15:07:55.487 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberUpdateDto'.
2024-01-13 15:07:55.492 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'VillaNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 15:07:55.492 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-01-13 15:07:55.492 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-01-13 15:07:55.492 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-01-13 15:07:55.498 +02:00 [DBG] Creating DbConnection.
2024-01-13 15:07:55.498 +02:00 [DBG] Created DbConnection. (0ms).
2024-01-13 15:07:55.498 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:07:55.498 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:07:55.498 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 15:07:55.499 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:07:55.499 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:07:55.500 +02:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [VillaNumbers] SET [CreatedDate] = @p0, [SpecialDetails] = @p1, [UpdatedDate] = @p2
OUTPUT 1
WHERE [VillaNo] = @p3;
2024-01-13 15:07:55.510 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [VillaNumbers] SET [CreatedDate] = @p0, [SpecialDetails] = @p1, [UpdatedDate] = @p2
OUTPUT 1
WHERE [VillaNo] = @p3;
2024-01-13 15:07:55.514 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:07:55.514 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-01-13 15:07:55.514 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:07:55.514 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 15:07:55.514 +02:00 [DBG] An entity of type 'VillaNumber' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 15:07:55.514 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-01-13 15:07:55.515 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 15:07:55.515 +02:00 [DBG] No information found on request to perform content negotiation.
2024-01-13 15:07:55.515 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 15:07:55.515 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 15:07:55.515 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 15:07:55.515 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2024-01-13 15:07:55.516 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaNumberApiController.UpdateVillaNumber (MagicVilla_VillaAPI) in 37.2548ms
2024-01-13 15:07:55.516 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.UpdateVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:07:55.516 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 15:07:55.516 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:07:55.516 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-13 15:07:55.516 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:44395/VillaNumberApi?id=101 - 200 70 application/json; charset=utf-8 73.6008ms
2024-01-13 15:07:55.516 +02:00 [DBG] Connection ID "18374686484771897366" disconnecting.
2024-01-13 15:08:00.356 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/VillaNumberApi/GetVillaNumbers - null null
2024-01-13 15:08:00.356 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaNumberApi/GetVillaNumbers'
2024-01-13 15:08:00.356 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI)' with route pattern 'VillaNumberApi/GetVillaNumbers' is valid for the request path '/VillaNumberApi/GetVillaNumbers'
2024-01-13 15:08:00.356 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI)'
2024-01-13 15:08:00.357 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 15:08:00.357 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI)'
2024-01-13 15:08:00.357 +02:00 [INF] Route matched with {action = "GetVillaNumbers", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillaNumbers() on controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI).
2024-01-13 15:08:00.357 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 15:08:00.357 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 15:08:00.357 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 15:08:00.357 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 15:08:00.357 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 15:08:00.357 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:08:00.358 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 15:08:00.358 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:08:00.359 +02:00 [DBG] Creating DbConnection.
2024-01-13 15:08:00.359 +02:00 [DBG] Created DbConnection. (0ms).
2024-01-13 15:08:00.359 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:08:00.359 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:08:00.359 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 15:08:00.359 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:08:00.359 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:08:00.359 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate]
FROM [VillaNumbers] AS [v]
2024-01-13 15:08:00.369 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate]
FROM [VillaNumbers] AS [v]
2024-01-13 15:08:00.369 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'VillaNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 15:08:00.369 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:08:00.369 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-01-13 15:08:00.369 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:08:00.369 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 15:08:00.369 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 15:08:00.370 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-13 15:08:00.370 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-13 15:08:00.370 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 15:08:00.370 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 15:08:00.370 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 15:08:00.370 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2024-01-13 15:08:00.370 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI) in 13.1188ms
2024-01-13 15:08:00.370 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumbers (MagicVilla_VillaAPI)'
2024-01-13 15:08:00.371 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 15:08:00.371 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:08:00.371 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-13 15:08:00.371 +02:00 [DBG] Connection ID "18302628929388675077" disconnecting.
2024-01-13 15:08:00.371 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/VillaNumberApi/GetVillaNumbers - 200 114 application/json; charset=utf-8 14.665ms
2024-01-13 15:18:18.075 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-13 15:18:18.348 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 15:18:18.594 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 15:20:57.507 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-13 15:20:57.773 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 15:20:57.781 +02:00 [DBG] Creating DbConnection.
2024-01-13 15:20:57.798 +02:00 [DBG] Created DbConnection. (15ms).
2024-01-13 15:20:57.799 +02:00 [DBG] Migrating using database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:20:57.802 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:20:57.895 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:20:57.897 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-13 15:20:57.900 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-13 15:20:57.900 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-13 15:20:57.903 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-13 15:20:57.917 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-13 15:20:57.918 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:20:57.921 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (1ms).
2024-01-13 15:20:57.923 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-13 15:20:57.923 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-13 15:20:57.923 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-13 15:20:57.923 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:20:57.923 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:20:57.924 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-13 15:20:57.932 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-13 15:20:57.932 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:20:57.933 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 15:20:57.933 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:20:57.933 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:20:57.933 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-13 15:20:57.933 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-13 15:20:57.933 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-13 15:20:57.933 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-13 15:20:57.934 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-13 15:20:57.934 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:20:57.934 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 15:20:57.934 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-13 15:20:57.934 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-13 15:20:57.934 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-13 15:20:57.934 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:20:57.934 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:20:57.934 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-13 15:20:57.935 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-13 15:20:57.935 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:20:57.935 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 15:20:57.944 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:20:57.945 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:20:57.945 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 15:20:57.945 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:20:57.945 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:20:57.945 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-13 15:20:57.949 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-13 15:20:57.950 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:20:57.950 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-01-13 15:20:57.951 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:20:57.951 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 15:20:57.958 +02:00 [INF] Applying migration '20240113131818_AddForeignKeyToVillaTable'.
2024-01-13 15:20:57.973 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:20:57.973 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:20:57.974 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-01-13 15:20:57.988 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-01-13 15:20:57.989 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-13 15:20:57.989 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-13 15:20:57.989 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-13 15:20:57.989 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [VillaNumbers] ADD [VillaId] int NOT NULL DEFAULT 0;
2024-01-13 15:20:58.003 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [VillaNumbers] ADD [VillaId] int NOT NULL DEFAULT 0;
2024-01-13 15:20:58.004 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-13 15:20:58.004 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-13 15:20:58.004 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-13 15:20:58.004 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_VillaNumbers_VillaId] ON [VillaNumbers] ([VillaId]);
2024-01-13 15:20:58.015 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_VillaNumbers_VillaId] ON [VillaNumbers] ([VillaId]);
2024-01-13 15:20:58.015 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-13 15:20:58.015 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-13 15:20:58.015 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-13 15:20:58.015 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [VillaNumbers] ADD CONSTRAINT [FK_VillaNumbers_Villas_VillaId] FOREIGN KEY ([VillaId]) REFERENCES [Villas] ([Id]) ON DELETE CASCADE;
2024-01-13 15:20:58.018 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [VillaNumbers] ADD CONSTRAINT [FK_VillaNumbers_Villas_VillaId] FOREIGN KEY ([VillaId]) REFERENCES [Villas] ([Id]) ON DELETE CASCADE;
2024-01-13 15:20:58.018 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-13 15:20:58.018 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-13 15:20:58.019 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-13 15:20:58.019 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240113131818_AddForeignKeyToVillaTable', N'8.0.0');
2024-01-13 15:20:58.019 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240113131818_AddForeignKeyToVillaTable', N'8.0.0');
2024-01-13 15:20:58.020 +02:00 [DBG] Committing transaction.
2024-01-13 15:20:58.022 +02:00 [DBG] Committed transaction.
2024-01-13 15:20:58.022 +02:00 [DBG] Disposing transaction.
2024-01-13 15:20:58.022 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:20:58.022 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 15:20:58.023 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 15:20:58.024 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:20:58.024 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-13 15:24:10.178 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-13 15:24:10.266 +02:00 [DBG] Hosting starting
2024-01-13 15:24:10.353 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2024-01-13 15:24:10.353 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-13 15:24:10.353 +02:00 [INF] Hosting environment: Development
2024-01-13 15:24:10.353 +02:00 [INF] Content root path: C:\Users\abcha\Desktop\gitRepos\Playground\MagicVilla\MagicVilla_VillaAPI\MagicVilla\MagicVilla_VillaAPI
2024-01-13 15:24:10.353 +02:00 [DBG] Hosting started
2024-01-13 15:24:10.406 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger - null null
2024-01-13 15:24:10.408 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-13 15:24:10.432 +02:00 [DBG] No candidates found for the request path '/swagger'
2024-01-13 15:24:10.433 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:24:10.480 +02:00 [DBG] Connection ID "18230571305285976098" disconnecting.
2024-01-13 15:24:10.480 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/index.html - null null
2024-01-13 15:24:10.480 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-01-13 15:24:10.480 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:24:10.497 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger - 301 null null 91.6766ms
2024-01-13 15:24:10.568 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/index.html - 200 null text/html;charset=utf-8 87.7715ms
2024-01-13 15:24:10.592 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui-bundle.js - null null
2024-01-13 15:24:10.592 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-01-13 15:24:10.592 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:24:10.593 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui-standalone-preset.js - null null
2024-01-13 15:24:10.593 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-01-13 15:24:10.593 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:24:10.596 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui.css - null null
2024-01-13 15:24:10.596 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-01-13 15:24:10.596 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:24:10.615 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-01-13 15:24:10.620 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-01-13 15:24:10.620 +02:00 [DBG] Connection ID "18302628895028936787" disconnecting.
2024-01-13 15:24:10.626 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui.css - 200 143943 text/css 30.0818ms
2024-01-13 15:24:10.627 +02:00 [DBG] Connection ID "18086456112915152905" disconnecting.
2024-01-13 15:24:10.628 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 35.1196ms
2024-01-13 15:24:10.629 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-01-13 15:24:10.651 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 59.1022ms
2024-01-13 15:24:10.652 +02:00 [DBG] Connection ID "18230571300991008786" disconnecting.
2024-01-13 15:24:11.023 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - null null
2024-01-13 15:24:11.023 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-01-13 15:24:11.023 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:24:11.043 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/favicon-32x32.png - null null
2024-01-13 15:24:11.043 +02:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2024-01-13 15:24:11.043 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:24:11.044 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-01-13 15:24:11.044 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/favicon-32x32.png - 200 628 image/png 0.945ms
2024-01-13 15:24:11.172 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 148.99ms
2024-01-13 15:24:43.764 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44395/VillaNumberApi/CreateVillaNumber - application/json-patch+json 64
2024-01-13 15:24:43.774 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaNumberApi/CreateVillaNumber'
2024-01-13 15:24:43.778 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI)' with route pattern 'VillaNumberApi/CreateVillaNumber' is valid for the request path '/VillaNumberApi/CreateVillaNumber'
2024-01-13 15:24:43.779 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:24:43.780 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 15:24:43.781 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:24:43.805 +02:00 [INF] Route matched with {action = "CreateVillaNumber", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVillaNumber(MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI).
2024-01-13 15:24:43.807 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 15:24:43.808 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 15:24:43.809 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 15:24:43.810 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 15:24:43.810 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 15:24:43.811 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:24:43.999 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-13 15:24:44.750 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 15:24:44.861 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:24:44.867 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto' ...
2024-01-13 15:24:44.870 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto' using the name '' in request data ...
2024-01-13 15:24:44.871 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-13 15:24:44.871 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-13 15:24:45.028 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto'.
2024-01-13 15:24:45.028 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto'.
2024-01-13 15:24:45.028 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto' ...
2024-01-13 15:24:45.039 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto'.
2024-01-13 15:24:45.118 +02:00 [DBG] Compiling query expression: 
'DbSet<VillaNumber>()
    .Where(v => v.VillaNo == __createDto_VillaNo_0)
    .FirstOrDefault()'
2024-01-13 15:24:45.260 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<VillaNumber>(
    asyncEnumerable: new SingleQueryingEnumerable<VillaNumber>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: VillaNumber.VillaNo (int) Required PK AfterSave:Throw, 0], [Property: VillaNumber.CreatedDate (DateTime) Required, 1], [Property: VillaNumber.SpecialDetails (string) Required, 2], [Property: VillaNumber.UpdatedDate (DateTime) Required, 3], [Property: VillaNumber.VillaId (int) Required FK Index, 4] }
            SELECT TOP(1) v.VillaNo, v.CreatedDate, v.SpecialDetails, v.UpdatedDate, v.VillaId
            FROM VillaNumbers AS v
            WHERE v.VillaNo == @__createDto_VillaNo_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, VillaNumber>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-13 15:24:45.291 +02:00 [DBG] Creating DbConnection.
2024-01-13 15:24:45.316 +02:00 [DBG] Created DbConnection. (23ms).
2024-01-13 15:24:45.319 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:24:45.593 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:24:45.599 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 15:24:45.605 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-13 15:24:45.610 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-01-13 15:24:45.617 +02:00 [DBG] Executing DbCommand [Parameters=[@__createDto_VillaNo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId]
FROM [VillaNumbers] AS [v]
WHERE [v].[VillaNo] = @__createDto_VillaNo_0
2024-01-13 15:24:45.668 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@__createDto_VillaNo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId]
FROM [VillaNumbers] AS [v]
WHERE [v].[VillaNo] = @__createDto_VillaNo_0
2024-01-13 15:24:45.679 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:24:45.683 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 10ms reading results.
2024-01-13 15:24:45.687 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:24:45.693 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (7ms).
2024-01-13 15:24:45.745 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'VillaNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 15:24:45.747 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-01-13 15:24:45.749 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-01-13 15:24:45.760 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-01-13 15:24:45.806 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:24:45.807 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:24:45.809 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 15:24:45.809 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:24:45.810 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:24:45.810 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [VillaNumbers] ([VillaNo], [CreatedDate], [SpecialDetails], [UpdatedDate], [VillaId])
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-01-13 15:24:45.822 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [VillaNumbers] ([VillaNo], [CreatedDate], [SpecialDetails], [UpdatedDate], [VillaId])
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-01-13 15:24:45.824 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:24:45.825 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-01-13 15:24:45.825 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:24:45.825 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 15:24:45.832 +02:00 [DBG] An entity of type 'VillaNumber' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 15:24:45.834 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-01-13 15:24:45.841 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 15:24:45.842 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-13 15:24:45.843 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-13 15:24:45.843 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 15:24:45.843 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 15:24:45.843 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 15:24:45.843 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2024-01-13 15:24:45.857 +02:00 [DBG] Found the endpoints ["MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI)"] for address GetVillaNumber(id=[101])
2024-01-13 15:24:45.859 +02:00 [DBG] Successfully processed template VillaNumberApi/{id:int} for MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI) resulting in /VillaNumberApi/101 and 
2024-01-13 15:24:45.860 +02:00 [DBG] Link generation succeeded for endpoints ["MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI)"] with result /VillaNumberApi/101
2024-01-13 15:24:45.894 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI) in 2081.2237ms
2024-01-13 15:24:45.895 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:24:45.896 +02:00 [DBG] Connection ID "18374686514836668428" disconnecting.
2024-01-13 15:24:45.898 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 15:24:45.901 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:24:45.903 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-13 15:24:45.903 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44395/VillaNumberApi/CreateVillaNumber - 201 105 application/json; charset=utf-8 2139.7328ms
2024-01-13 15:25:17.713 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44395/VillaNumberApi/CreateVillaNumber - application/json-patch+json 65
2024-01-13 15:25:17.714 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaNumberApi/CreateVillaNumber'
2024-01-13 15:25:17.714 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI)' with route pattern 'VillaNumberApi/CreateVillaNumber' is valid for the request path '/VillaNumberApi/CreateVillaNumber'
2024-01-13 15:25:17.714 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:25:17.715 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 15:25:17.715 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:25:17.715 +02:00 [INF] Route matched with {action = "CreateVillaNumber", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVillaNumber(MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI).
2024-01-13 15:25:17.715 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 15:25:17.715 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 15:25:17.715 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 15:25:17.715 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 15:25:17.715 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 15:25:17.716 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:25:17.744 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 15:25:17.744 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:25:17.745 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto' ...
2024-01-13 15:25:17.746 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto' using the name '' in request data ...
2024-01-13 15:25:17.746 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-13 15:25:17.746 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-13 15:25:17.748 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto'.
2024-01-13 15:25:17.748 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto'.
2024-01-13 15:25:17.748 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto' ...
2024-01-13 15:25:17.750 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto'.
2024-01-13 15:25:17.753 +02:00 [DBG] Creating DbConnection.
2024-01-13 15:25:17.753 +02:00 [DBG] Created DbConnection. (0ms).
2024-01-13 15:25:17.753 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:25:17.753 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:25:17.753 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 15:25:17.753 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:25:17.754 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:25:17.754 +02:00 [DBG] Executing DbCommand [Parameters=[@__createDto_VillaNo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId]
FROM [VillaNumbers] AS [v]
WHERE [v].[VillaNo] = @__createDto_VillaNo_0
2024-01-13 15:25:17.755 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__createDto_VillaNo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId]
FROM [VillaNumbers] AS [v]
WHERE [v].[VillaNo] = @__createDto_VillaNo_0
2024-01-13 15:25:17.756 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:25:17.756 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-01-13 15:25:17.756 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:25:17.756 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 15:25:17.758 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'VillaNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 15:25:17.758 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-01-13 15:25:17.758 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-01-13 15:25:17.758 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-01-13 15:25:17.758 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:25:17.758 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:25:17.759 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 15:25:17.759 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:25:17.759 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:25:17.759 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [VillaNumbers] ([VillaNo], [CreatedDate], [SpecialDetails], [UpdatedDate], [VillaId])
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-01-13 15:25:17.770 +02:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [VillaNumbers] ([VillaNo], [CreatedDate], [SpecialDetails], [UpdatedDate], [VillaId])
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-01-13 15:25:17.774 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:25:17.774 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 15:25:17.801 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_VillaNumbers_Villas_VillaId". The conflict occurred in database "MagicVilla", table "dbo.Villas", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ae94c421-42f2-40ec-92b2-3ae20b2a2bae
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_VillaNumbers_Villas_VillaId". The conflict occurred in database "MagicVilla", table "dbo.Villas", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ae94c421-42f2-40ec-92b2-3ae20b2a2bae
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-01-13 15:25:17.939 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 15:25:17.939 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-13 15:25:17.939 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-13 15:25:17.939 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 15:25:17.939 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 15:25:17.940 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 15:25:17.940 +02:00 [INF] Executing ObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2024-01-13 15:25:17.942 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI) in 226.3743ms
2024-01-13 15:25:17.942 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:25:17.942 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 15:25:17.942 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:25:17.942 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-13 15:25:17.942 +02:00 [DBG] Connection ID "18374686514836668430" disconnecting.
2024-01-13 15:25:17.942 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44395/VillaNumberApi/CreateVillaNumber - 200 4252 application/json; charset=utf-8 229.6542ms
2024-01-13 15:32:38.308 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-13 15:32:38.369 +02:00 [DBG] Hosting starting
2024-01-13 15:32:38.437 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2024-01-13 15:32:38.437 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-13 15:32:38.437 +02:00 [INF] Hosting environment: Development
2024-01-13 15:32:38.437 +02:00 [INF] Content root path: C:\Users\abcha\Desktop\gitRepos\Playground\MagicVilla\MagicVilla_VillaAPI\MagicVilla\MagicVilla_VillaAPI
2024-01-13 15:32:38.437 +02:00 [DBG] Hosting started
2024-01-13 15:32:38.483 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger - null null
2024-01-13 15:32:38.485 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-13 15:32:38.501 +02:00 [DBG] No candidates found for the request path '/swagger'
2024-01-13 15:32:38.502 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:32:38.529 +02:00 [DBG] Connection ID "18302628925093707780" disconnecting.
2024-01-13 15:32:38.529 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/index.html - null null
2024-01-13 15:32:38.530 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-01-13 15:32:38.530 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:32:38.541 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger - 301 null null 56.8639ms
2024-01-13 15:32:38.607 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/index.html - 200 null text/html;charset=utf-8 77.5919ms
2024-01-13 15:32:38.610 +02:00 [DBG] Connection ID "18302628925093707782" disconnecting.
2024-01-13 15:32:38.625 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui-bundle.js - null null
2024-01-13 15:32:38.625 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-01-13 15:32:38.625 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:32:38.625 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui.css - null null
2024-01-13 15:32:38.625 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-01-13 15:32:38.627 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:32:38.627 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui-standalone-preset.js - null null
2024-01-13 15:32:38.627 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-01-13 15:32:38.627 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:32:38.648 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-01-13 15:32:38.648 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-01-13 15:32:38.648 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-01-13 15:32:38.655 +02:00 [DBG] Connection ID "18230571309580943361" disconnecting.
2024-01-13 15:32:38.657 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui.css - 200 143943 text/css 31.0914ms
2024-01-13 15:32:38.658 +02:00 [DBG] Connection ID "18086456112915152907" disconnecting.
2024-01-13 15:32:38.658 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 30.6873ms
2024-01-13 15:32:38.671 +02:00 [DBG] Connection ID "18230571300991008788" disconnecting.
2024-01-13 15:32:38.672 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 48.3896ms
2024-01-13 15:32:38.791 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - null null
2024-01-13 15:32:38.791 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-01-13 15:32:38.791 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:32:38.805 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/favicon-32x32.png - null null
2024-01-13 15:32:38.805 +02:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2024-01-13 15:32:38.805 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:32:38.806 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-01-13 15:32:38.806 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/favicon-32x32.png - 200 628 image/png 0.8808ms
2024-01-13 15:32:38.916 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 124.7429ms
2024-01-13 15:33:04.921 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44395/VillaNumberApi/CreateVillaNumber - application/json-patch+json 66
2024-01-13 15:33:04.927 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaNumberApi/CreateVillaNumber'
2024-01-13 15:33:04.929 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI)' with route pattern 'VillaNumberApi/CreateVillaNumber' is valid for the request path '/VillaNumberApi/CreateVillaNumber'
2024-01-13 15:33:04.929 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:33:04.930 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 15:33:04.930 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:33:04.944 +02:00 [INF] Route matched with {action = "CreateVillaNumber", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVillaNumber(MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI).
2024-01-13 15:33:04.945 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 15:33:04.945 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 15:33:04.946 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 15:33:04.946 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 15:33:04.946 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 15:33:04.947 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:33:05.046 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-13 15:33:05.470 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 15:33:05.523 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:33:05.526 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto' ...
2024-01-13 15:33:05.527 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto' using the name '' in request data ...
2024-01-13 15:33:05.527 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-13 15:33:05.527 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-13 15:33:05.621 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto'.
2024-01-13 15:33:05.621 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto'.
2024-01-13 15:33:05.621 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto' ...
2024-01-13 15:33:05.625 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto'.
2024-01-13 15:33:05.702 +02:00 [DBG] Compiling query expression: 
'DbSet<VillaNumber>()
    .Where(v => v.VillaNo == __createDto_VillaNo_0)
    .FirstOrDefault()'
2024-01-13 15:33:05.902 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<VillaNumber>(
    asyncEnumerable: new SingleQueryingEnumerable<VillaNumber>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: VillaNumber.VillaNo (int) Required PK AfterSave:Throw, 0], [Property: VillaNumber.CreatedDate (DateTime) Required, 1], [Property: VillaNumber.SpecialDetails (string) Required, 2], [Property: VillaNumber.UpdatedDate (DateTime) Required, 3], [Property: VillaNumber.VillaId (int) Required FK Index, 4] }
            SELECT TOP(1) v.VillaNo, v.CreatedDate, v.SpecialDetails, v.UpdatedDate, v.VillaId
            FROM VillaNumbers AS v
            WHERE v.VillaNo == @__createDto_VillaNo_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, VillaNumber>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-13 15:33:05.937 +02:00 [DBG] Creating DbConnection.
2024-01-13 15:33:05.962 +02:00 [DBG] Created DbConnection. (25ms).
2024-01-13 15:33:05.964 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:33:06.219 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:33:06.226 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 15:33:06.231 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-13 15:33:06.238 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2024-01-13 15:33:06.244 +02:00 [DBG] Executing DbCommand [Parameters=[@__createDto_VillaNo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId]
FROM [VillaNumbers] AS [v]
WHERE [v].[VillaNo] = @__createDto_VillaNo_0
2024-01-13 15:33:06.293 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[@__createDto_VillaNo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId]
FROM [VillaNumbers] AS [v]
WHERE [v].[VillaNo] = @__createDto_VillaNo_0
2024-01-13 15:33:06.306 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:33:06.311 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 13ms reading results.
2024-01-13 15:33:06.314 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:33:06.320 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (6ms).
2024-01-13 15:33:06.322 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Id == __createDto_VillaId_0)
    .FirstOrDefault()'
2024-01-13 15:33:06.325 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqm (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqm, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__createDto_VillaId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-13 15:33:06.326 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:33:06.326 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:33:06.326 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 15:33:06.327 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:33:06.327 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:33:06.327 +02:00 [DBG] Executing DbCommand [Parameters=[@__createDto_VillaId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__createDto_VillaId_0
2024-01-13 15:33:06.330 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__createDto_VillaId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__createDto_VillaId_0
2024-01-13 15:33:06.330 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:33:06.331 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-01-13 15:33:06.331 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:33:06.331 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 15:33:06.376 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'VillaNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 15:33:06.379 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-01-13 15:33:06.381 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-01-13 15:33:06.389 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-01-13 15:33:06.430 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:33:06.430 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:33:06.433 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 15:33:06.433 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:33:06.435 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-13 15:33:06.435 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [VillaNumbers] ([VillaNo], [CreatedDate], [SpecialDetails], [UpdatedDate], [VillaId])
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-01-13 15:33:06.448 +02:00 [ERR] Failed executing DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [VillaNumbers] ([VillaNo], [CreatedDate], [SpecialDetails], [UpdatedDate], [VillaId])
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-01-13 15:33:06.454 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:33:06.454 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 15:33:06.478 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'MagicVilla_VillaAPI.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_VillaNumbers_Villas_VillaId". The conflict occurred in database "MagicVilla", table "dbo.Villas", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:73af853e-8127-45c6-af91-ce5f11a9cd79
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_VillaNumbers_Villas_VillaId". The conflict occurred in database "MagicVilla", table "dbo.Villas", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:73af853e-8127-45c6-af91-ce5f11a9cd79
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-01-13 15:33:06.605 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 15:33:06.607 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-13 15:33:06.607 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-13 15:33:06.607 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 15:33:06.607 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 15:33:06.608 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 15:33:06.608 +02:00 [INF] Executing ObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2024-01-13 15:33:06.658 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI) in 1710.7856ms
2024-01-13 15:33:06.659 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:33:06.660 +02:00 [DBG] Connection ID "18302628929388675079" disconnecting.
2024-01-13 15:33:06.661 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 15:33:06.663 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:33:06.664 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-13 15:33:06.664 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44395/VillaNumberApi/CreateVillaNumber - 200 4252 application/json; charset=utf-8 1744.4552ms
2024-01-13 15:34:45.859 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-13 15:34:45.914 +02:00 [DBG] Hosting starting
2024-01-13 15:34:45.989 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2024-01-13 15:34:45.989 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-13 15:34:45.989 +02:00 [INF] Hosting environment: Development
2024-01-13 15:34:45.989 +02:00 [INF] Content root path: C:\Users\abcha\Desktop\gitRepos\Playground\MagicVilla\MagicVilla_VillaAPI\MagicVilla\MagicVilla_VillaAPI
2024-01-13 15:34:45.989 +02:00 [DBG] Hosting started
2024-01-13 15:34:46.040 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger - null null
2024-01-13 15:34:46.042 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-13 15:34:46.060 +02:00 [DBG] No candidates found for the request path '/swagger'
2024-01-13 15:34:46.060 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:34:46.091 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/index.html - null null
2024-01-13 15:34:46.091 +02:00 [DBG] Connection ID "18374686510541701128" disconnecting.
2024-01-13 15:34:46.091 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-01-13 15:34:46.091 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:34:46.103 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger - 301 null null 64.3102ms
2024-01-13 15:34:46.161 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/index.html - 200 null text/html;charset=utf-8 70.338ms
2024-01-13 15:34:46.164 +02:00 [DBG] Connection ID "18230571300991008790" disconnecting.
2024-01-13 15:34:46.176 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui.css - null null
2024-01-13 15:34:46.176 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-01-13 15:34:46.176 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:34:46.177 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui-bundle.js - null null
2024-01-13 15:34:46.177 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-01-13 15:34:46.177 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:34:46.179 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui-standalone-preset.js - null null
2024-01-13 15:34:46.179 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-01-13 15:34:46.179 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:34:46.196 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-01-13 15:34:46.198 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-01-13 15:34:46.209 +02:00 [DBG] Connection ID "18374686497656799251" disconnecting.
2024-01-13 15:34:46.210 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-01-13 15:34:46.213 +02:00 [DBG] Connection ID "18374686510541701130" disconnecting.
2024-01-13 15:34:46.215 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui.css - 200 143943 text/css 38.6224ms
2024-01-13 15:34:46.223 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 43.6161ms
2024-01-13 15:34:46.249 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 72.0442ms
2024-01-13 15:34:46.251 +02:00 [DBG] Connection ID "18302628903618871300" disconnecting.
2024-01-13 15:34:46.378 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - null null
2024-01-13 15:34:46.379 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-01-13 15:34:46.379 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:34:46.391 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/favicon-32x32.png - null null
2024-01-13 15:34:46.391 +02:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2024-01-13 15:34:46.391 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:34:46.392 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-01-13 15:34:46.392 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/favicon-32x32.png - 200 628 image/png 1.0454ms
2024-01-13 15:34:46.484 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 105.5237ms
2024-01-13 15:34:46.484 +02:00 [DBG] Connection ID "18374686514836668432" disconnecting.
2024-01-13 15:35:00.010 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44395/VillaNumberApi/CreateVillaNumber - application/json-patch+json 66
2024-01-13 15:35:00.015 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaNumberApi/CreateVillaNumber'
2024-01-13 15:35:00.017 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI)' with route pattern 'VillaNumberApi/CreateVillaNumber' is valid for the request path '/VillaNumberApi/CreateVillaNumber'
2024-01-13 15:35:00.018 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:35:00.019 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 15:35:00.019 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:35:00.044 +02:00 [INF] Route matched with {action = "CreateVillaNumber", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVillaNumber(MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI).
2024-01-13 15:35:00.045 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 15:35:00.045 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 15:35:00.047 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 15:35:00.048 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 15:35:00.048 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 15:35:00.050 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:35:00.156 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-13 15:35:00.676 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 15:35:00.769 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:35:00.773 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto' ...
2024-01-13 15:35:00.775 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto' using the name '' in request data ...
2024-01-13 15:35:00.776 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-13 15:35:00.776 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-13 15:35:00.872 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto'.
2024-01-13 15:35:00.872 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto'.
2024-01-13 15:35:00.872 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto' ...
2024-01-13 15:35:00.875 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto'.
2024-01-13 15:35:00.933 +02:00 [DBG] Compiling query expression: 
'DbSet<VillaNumber>()
    .Where(v => v.VillaNo == __createDto_VillaNo_0)
    .FirstOrDefault()'
2024-01-13 15:35:01.058 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<VillaNumber>(
    asyncEnumerable: new SingleQueryingEnumerable<VillaNumber>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: VillaNumber.VillaNo (int) Required PK AfterSave:Throw, 0], [Property: VillaNumber.CreatedDate (DateTime) Required, 1], [Property: VillaNumber.SpecialDetails (string) Required, 2], [Property: VillaNumber.UpdatedDate (DateTime) Required, 3], [Property: VillaNumber.VillaId (int) Required FK Index, 4] }
            SELECT TOP(1) v.VillaNo, v.CreatedDate, v.SpecialDetails, v.UpdatedDate, v.VillaId
            FROM VillaNumbers AS v
            WHERE v.VillaNo == @__createDto_VillaNo_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, VillaNumber>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-13 15:35:01.085 +02:00 [DBG] Creating DbConnection.
2024-01-13 15:35:01.101 +02:00 [DBG] Created DbConnection. (14ms).
2024-01-13 15:35:01.104 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:35:01.310 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:35:01.315 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 15:35:01.319 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-13 15:35:01.324 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-01-13 15:35:01.329 +02:00 [DBG] Executing DbCommand [Parameters=[@__createDto_VillaNo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId]
FROM [VillaNumbers] AS [v]
WHERE [v].[VillaNo] = @__createDto_VillaNo_0
2024-01-13 15:35:01.370 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@__createDto_VillaNo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId]
FROM [VillaNumbers] AS [v]
WHERE [v].[VillaNo] = @__createDto_VillaNo_0
2024-01-13 15:35:01.380 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:35:01.385 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 10ms reading results.
2024-01-13 15:35:01.387 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:35:01.390 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (3ms).
2024-01-13 15:35:01.391 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Id == __createDto_VillaId_0)
    .FirstOrDefault()'
2024-01-13 15:35:01.395 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqm (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqm, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__createDto_VillaId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-13 15:35:01.396 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:35:01.397 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:35:01.397 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 15:35:01.397 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:35:01.397 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:35:01.397 +02:00 [DBG] Executing DbCommand [Parameters=[@__createDto_VillaId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__createDto_VillaId_0
2024-01-13 15:35:01.400 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__createDto_VillaId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__createDto_VillaId_0
2024-01-13 15:35:01.401 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:35:01.401 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-01-13 15:35:01.401 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:35:01.401 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 15:35:01.404 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 15:35:01.405 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-13 15:35:01.405 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-13 15:35:01.405 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 15:35:01.405 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 15:35:01.406 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 15:35:01.406 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'.
2024-01-13 15:35:01.433 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI) in 1382.519ms
2024-01-13 15:35:01.434 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:35:01.434 +02:00 [DBG] Connection ID "18230571305285976100" disconnecting.
2024-01-13 15:35:01.437 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 15:35:01.440 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:35:01.441 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-13 15:35:01.442 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44395/VillaNumberApi/CreateVillaNumber - 400 39 application/json; charset=utf-8 1431.5535ms
2024-01-13 15:35:56.488 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44395/VillaNumberApi/CreateVillaNumber - application/json-patch+json 66
2024-01-13 15:35:56.490 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaNumberApi/CreateVillaNumber'
2024-01-13 15:35:56.490 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI)' with route pattern 'VillaNumberApi/CreateVillaNumber' is valid for the request path '/VillaNumberApi/CreateVillaNumber'
2024-01-13 15:35:56.490 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:35:56.490 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 15:35:56.490 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:35:56.490 +02:00 [INF] Route matched with {action = "CreateVillaNumber", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] CreateVillaNumber(MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto) on controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI).
2024-01-13 15:35:56.490 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 15:35:56.490 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 15:35:56.490 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 15:35:56.490 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 15:35:56.491 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 15:35:56.491 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:35:56.511 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 15:35:56.511 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:35:56.513 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto' ...
2024-01-13 15:35:56.513 +02:00 [DBG] Attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto' using the name '' in request data ...
2024-01-13 15:35:56.513 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-13 15:35:56.513 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-13 15:35:56.516 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto'.
2024-01-13 15:35:56.516 +02:00 [DBG] Done attempting to bind parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto'.
2024-01-13 15:35:56.516 +02:00 [DBG] Attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto' ...
2024-01-13 15:35:56.516 +02:00 [DBG] Done attempting to validate the bound parameter 'createDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberCreateDto'.
2024-01-13 15:35:56.520 +02:00 [DBG] Creating DbConnection.
2024-01-13 15:35:56.520 +02:00 [DBG] Created DbConnection. (0ms).
2024-01-13 15:35:56.520 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:35:56.520 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:35:56.520 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 15:35:56.520 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:35:56.520 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:35:56.520 +02:00 [DBG] Executing DbCommand [Parameters=[@__createDto_VillaNo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId]
FROM [VillaNumbers] AS [v]
WHERE [v].[VillaNo] = @__createDto_VillaNo_0
2024-01-13 15:35:56.524 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__createDto_VillaNo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId]
FROM [VillaNumbers] AS [v]
WHERE [v].[VillaNo] = @__createDto_VillaNo_0
2024-01-13 15:35:56.524 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:35:56.524 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-01-13 15:35:56.524 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:35:56.524 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 15:35:56.525 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:35:56.525 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:35:56.525 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 15:35:56.525 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:35:56.525 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:35:56.525 +02:00 [DBG] Executing DbCommand [Parameters=[@__createDto_VillaId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__createDto_VillaId_0
2024-01-13 15:35:56.527 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__createDto_VillaId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__createDto_VillaId_0
2024-01-13 15:35:56.549 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 15:35:56.562 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:35:56.562 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 34ms reading results.
2024-01-13 15:35:56.562 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:35:56.562 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 15:35:56.588 +02:00 [DBG] The navigation 'VillaNumber.Villa' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 15:35:56.591 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'VillaNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 15:35:56.595 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-01-13 15:35:56.597 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-01-13 15:35:56.608 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-01-13 15:35:56.647 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:35:56.648 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:35:56.649 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 15:35:56.649 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:35:56.650 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:35:56.650 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [VillaNumbers] ([VillaNo], [CreatedDate], [SpecialDetails], [UpdatedDate], [VillaId])
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-01-13 15:35:56.655 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [VillaNumbers] ([VillaNo], [CreatedDate], [SpecialDetails], [UpdatedDate], [VillaId])
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-01-13 15:35:56.657 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:35:56.657 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-01-13 15:35:56.658 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:35:56.658 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 15:35:56.664 +02:00 [DBG] An entity of type 'VillaNumber' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 15:35:56.665 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-01-13 15:35:56.667 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 15:35:56.667 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-13 15:35:56.667 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-13 15:35:56.667 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 15:35:56.667 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 15:35:56.667 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 15:35:56.667 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2024-01-13 15:35:56.677 +02:00 [DBG] Found the endpoints ["MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI)"] for address GetVillaNumber(id=[201])
2024-01-13 15:35:56.680 +02:00 [DBG] Successfully processed template VillaNumberApi/{id:int} for MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI) resulting in /VillaNumberApi/201 and 
2024-01-13 15:35:56.681 +02:00 [DBG] Link generation succeeded for endpoints ["MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI)"] with result /VillaNumberApi/201
2024-01-13 15:35:56.688 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI) in 197.801ms
2024-01-13 15:35:56.688 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.CreateVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:35:56.689 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 15:35:56.689 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:35:56.689 +02:00 [DBG] Connection ID "18302628933683642376" disconnecting.
2024-01-13 15:35:56.689 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-13 15:35:56.689 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44395/VillaNumberApi/CreateVillaNumber - 201 107 application/json; charset=utf-8 200.7627ms
2024-01-13 15:38:56.269 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/VillaNumberApi/201 - null null
2024-01-13 15:38:56.271 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaNumberApi/201'
2024-01-13 15:38:56.271 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI)' with route pattern 'VillaNumberApi/{id:int}' is valid for the request path '/VillaNumberApi/201'
2024-01-13 15:38:56.271 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:38:56.271 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 15:38:56.271 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:38:56.274 +02:00 [INF] Route matched with {action = "GetVillaNumber", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillaNumber(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI).
2024-01-13 15:38:56.274 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 15:38:56.274 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 15:38:56.274 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 15:38:56.274 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 15:38:56.274 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 15:38:56.274 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:38:56.277 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 15:38:56.278 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:38:56.278 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-13 15:38:56.281 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-13 15:38:56.283 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 15:38:56.283 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 15:38:56.283 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-13 15:38:56.284 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-13 15:38:56.286 +02:00 [DBG] Compiling query expression: 
'DbSet<VillaNumber>()
    .Where(v => v.VillaNo == __id_0)
    .FirstOrDefault()'
2024-01-13 15:38:56.287 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<VillaNumber>(
    asyncEnumerable: new SingleQueryingEnumerable<VillaNumber>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: VillaNumber.VillaNo (int) Required PK AfterSave:Throw, 0], [Property: VillaNumber.CreatedDate (DateTime) Required, 1], [Property: VillaNumber.SpecialDetails (string) Required, 2], [Property: VillaNumber.UpdatedDate (DateTime) Required, 3], [Property: VillaNumber.VillaId (int) Required FK Index, 4] }
            SELECT TOP(1) v.VillaNo, v.CreatedDate, v.SpecialDetails, v.UpdatedDate, v.VillaId
            FROM VillaNumbers AS v
            WHERE v.VillaNo == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, VillaNumber>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-13 15:38:56.287 +02:00 [DBG] Creating DbConnection.
2024-01-13 15:38:56.287 +02:00 [DBG] Created DbConnection. (0ms).
2024-01-13 15:38:56.287 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:38:56.287 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:38:56.287 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 15:38:56.287 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:38:56.287 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:38:56.288 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId]
FROM [VillaNumbers] AS [v]
WHERE [v].[VillaNo] = @__id_0
2024-01-13 15:38:56.290 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId]
FROM [VillaNumbers] AS [v]
WHERE [v].[VillaNo] = @__id_0
2024-01-13 15:38:56.290 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'VillaNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 15:38:56.291 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:38:56.291 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-01-13 15:38:56.291 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:38:56.291 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 15:38:56.291 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 15:38:56.291 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-13 15:38:56.291 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-13 15:38:56.292 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 15:38:56.292 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 15:38:56.292 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 15:38:56.292 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2024-01-13 15:38:56.292 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI) in 18.072ms
2024-01-13 15:38:56.292 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:38:56.292 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 15:38:56.292 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:38:56.292 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-13 15:38:56.292 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/VillaNumberApi/201 - 200 107 application/json; charset=utf-8 24.7559ms
2024-01-13 15:38:56.295 +02:00 [DBG] Connection ID "18158513724132950027" disconnecting.
2024-01-13 15:39:52.761 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-13 15:39:52.829 +02:00 [DBG] Hosting starting
2024-01-13 15:39:52.889 +02:00 [DBG] Loaded hosting startup assembly MagicVilla_VillaAPI
2024-01-13 15:39:52.889 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-13 15:39:52.889 +02:00 [INF] Hosting environment: Development
2024-01-13 15:39:52.889 +02:00 [INF] Content root path: C:\Users\abcha\Desktop\gitRepos\Playground\MagicVilla\MagicVilla_VillaAPI\MagicVilla\MagicVilla_VillaAPI
2024-01-13 15:39:52.889 +02:00 [DBG] Hosting started
2024-01-13 15:39:52.940 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger - null null
2024-01-13 15:39:52.942 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-13 15:39:52.958 +02:00 [DBG] No candidates found for the request path '/swagger'
2024-01-13 15:39:52.958 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:39:52.988 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/index.html - null null
2024-01-13 15:39:52.988 +02:00 [DBG] Connection ID "18374686514836668434" disconnecting.
2024-01-13 15:39:52.988 +02:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-01-13 15:39:52.988 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:39:52.999 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger - 301 null null 60.0202ms
2024-01-13 15:39:53.055 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/index.html - 200 null text/html;charset=utf-8 66.8428ms
2024-01-13 15:39:53.059 +02:00 [DBG] Connection ID "18014398510287290381" disconnecting.
2024-01-13 15:39:53.072 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui.css - null null
2024-01-13 15:39:53.072 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui-bundle.js - null null
2024-01-13 15:39:53.073 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-01-13 15:39:53.073 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:39:53.075 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-01-13 15:39:53.075 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:39:53.075 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/swagger-ui-standalone-preset.js - null null
2024-01-13 15:39:53.076 +02:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-01-13 15:39:53.076 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:39:53.105 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-01-13 15:39:53.105 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-01-13 15:39:53.105 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-01-13 15:39:53.106 +02:00 [DBG] Connection ID "18302628933683642378" disconnecting.
2024-01-13 15:39:53.108 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui.css - 200 143943 text/css 35.7175ms
2024-01-13 15:39:53.111 +02:00 [DBG] Connection ID "18014398510287290383" disconnecting.
2024-01-13 15:39:53.111 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 35.7867ms
2024-01-13 15:39:53.125 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 52.4712ms
2024-01-13 15:39:53.127 +02:00 [DBG] Connection ID "18374686527721570310" disconnecting.
2024-01-13 15:39:53.233 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - null null
2024-01-13 15:39:53.233 +02:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-01-13 15:39:53.233 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:39:53.242 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/swagger/favicon-32x32.png - null null
2024-01-13 15:39:53.242 +02:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2024-01-13 15:39:53.242 +02:00 [DBG] Request did not match any endpoints
2024-01-13 15:39:53.243 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-01-13 15:39:53.243 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/favicon-32x32.png - 200 628 image/png 0.882ms
2024-01-13 15:39:53.335 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 101.9608ms
2024-01-13 15:39:53.335 +02:00 [DBG] Connection ID "18014398510287290385" disconnecting.
2024-01-13 15:39:59.534 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/VillaAPI/201 - null null
2024-01-13 15:39:59.539 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaAPI/201'
2024-01-13 15:39:59.542 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVilla (MagicVilla_VillaAPI)' with route pattern 'VillaAPI/{id:int}' is valid for the request path '/VillaAPI/201'
2024-01-13 15:39:59.543 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVilla (MagicVilla_VillaAPI)'
2024-01-13 15:39:59.545 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 15:39:59.546 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVilla (MagicVilla_VillaAPI)'
2024-01-13 15:39:59.575 +02:00 [INF] Route matched with {action = "GetVilla", controller = "VillaAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVilla(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI).
2024-01-13 15:39:59.576 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 15:39:59.576 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 15:39:59.578 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 15:39:59.578 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 15:39:59.578 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 15:39:59.581 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 15:39:59.708 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-13 15:40:00.238 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 15:40:00.349 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaAPIController (MagicVilla_VillaAPI)
2024-01-13 15:40:00.356 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-13 15:40:00.358 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-13 15:40:00.358 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 15:40:00.358 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 15:40:00.358 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-13 15:40:00.360 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-13 15:40:00.465 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Id == __id_0)
    .FirstOrDefault()'
2024-01-13 15:40:00.803 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqm (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqm, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-13 15:40:00.838 +02:00 [DBG] Creating DbConnection.
2024-01-13 15:40:00.860 +02:00 [DBG] Created DbConnection. (22ms).
2024-01-13 15:40:00.863 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:40:01.176 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:40:01.185 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 15:40:01.189 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-13 15:40:01.196 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-01-13 15:40:01.204 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2024-01-13 15:40:01.295 +02:00 [INF] Executed DbCommand (93ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2024-01-13 15:40:01.311 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:40:01.321 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 16ms reading results.
2024-01-13 15:40:01.330 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:40:01.342 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (13ms).
2024-01-13 15:40:01.352 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 15:40:01.354 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-13 15:40:01.354 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-13 15:40:01.355 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 15:40:01.355 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 15:40:01.355 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 15:40:01.355 +02:00 [INF] Executing NotFoundObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2024-01-13 15:40:01.468 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVilla (MagicVilla_VillaAPI) in 1885.6238ms
2024-01-13 15:40:01.468 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaAPIController.GetVilla (MagicVilla_VillaAPI)'
2024-01-13 15:40:01.470 +02:00 [DBG] Connection ID "18374686527721570312" disconnecting.
2024-01-13 15:40:01.473 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 15:40:01.482 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:40:01.483 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-13 15:40:01.484 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/VillaAPI/201 - 404 70 application/json; charset=utf-8 1950.3716ms
2024-01-13 15:40:14.630 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/VillaNumberApi/201 - null null
2024-01-13 15:40:14.631 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaNumberApi/201'
2024-01-13 15:40:14.631 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI)' with route pattern 'VillaNumberApi/{id:int}' is valid for the request path '/VillaNumberApi/201'
2024-01-13 15:40:14.632 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:40:14.632 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 15:40:14.632 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:40:14.637 +02:00 [INF] Route matched with {action = "GetVillaNumber", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillaNumber(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI).
2024-01-13 15:40:14.637 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 15:40:14.637 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 15:40:14.637 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 15:40:14.637 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 15:40:14.637 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 15:40:14.637 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:40:14.660 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 15:40:14.661 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:40:14.661 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-13 15:40:14.661 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-13 15:40:14.661 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 15:40:14.661 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 15:40:14.661 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-13 15:40:14.661 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-13 15:40:14.665 +02:00 [DBG] Compiling query expression: 
'DbSet<VillaNumber>()
    .Where(v => v.VillaNo == __id_0)
    .FirstOrDefault()'
2024-01-13 15:40:14.672 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<VillaNumber>(
    asyncEnumerable: new SingleQueryingEnumerable<VillaNumber>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: VillaNumber.VillaNo (int) Required PK AfterSave:Throw, 0], [Property: VillaNumber.CreatedDate (DateTime) Required, 1], [Property: VillaNumber.SpecialDetails (string) Required, 2], [Property: VillaNumber.UpdatedDate (DateTime) Required, 3], [Property: VillaNumber.VillaId (int) Required FK Index, 4] }
            SELECT TOP(1) v.VillaNo, v.CreatedDate, v.SpecialDetails, v.UpdatedDate, v.VillaId
            FROM VillaNumbers AS v
            WHERE v.VillaNo == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, VillaNumber>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-13 15:40:14.673 +02:00 [DBG] Creating DbConnection.
2024-01-13 15:40:14.674 +02:00 [DBG] Created DbConnection. (0ms).
2024-01-13 15:40:14.674 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:40:14.675 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:40:14.675 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 15:40:14.676 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:40:14.676 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:40:14.676 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId]
FROM [VillaNumbers] AS [v]
WHERE [v].[VillaNo] = @__id_0
2024-01-13 15:40:14.679 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId]
FROM [VillaNumbers] AS [v]
WHERE [v].[VillaNo] = @__id_0
2024-01-13 15:40:14.702 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'VillaNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 15:40:14.713 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:40:14.713 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 33ms reading results.
2024-01-13 15:40:14.713 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:40:14.714 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 15:40:14.718 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 15:40:14.719 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-13 15:40:14.719 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-13 15:40:14.719 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 15:40:14.719 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 15:40:14.719 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 15:40:14.719 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2024-01-13 15:40:14.722 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI) in 85.0302ms
2024-01-13 15:40:14.722 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:40:14.723 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 15:40:14.723 +02:00 [DBG] Connection ID "18374686501951766538" disconnecting.
2024-01-13 15:40:14.723 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:40:14.723 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-13 15:40:14.723 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/VillaNumberApi/201 - 200 119 application/json; charset=utf-8 92.9218ms
2024-01-13 15:41:22.052 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:44395/VillaNumberApi?id=201 - application/json-patch+json 66
2024-01-13 15:41:22.052 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaNumberApi'
2024-01-13 15:41:22.052 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.UpdateVillaNumber (MagicVilla_VillaAPI)' with route pattern 'VillaNumberApi' is valid for the request path '/VillaNumberApi'
2024-01-13 15:41:22.052 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.UpdateVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:41:22.052 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 15:41:22.052 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.UpdateVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:41:22.055 +02:00 [INF] Route matched with {action = "UpdateVillaNumber", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] UpdateVillaNumber(Int32, MagicVilla_VillaAPI.Models.Dto.VillaNumberUpdateDto) on controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI).
2024-01-13 15:41:22.055 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 15:41:22.055 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 15:41:22.055 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 15:41:22.055 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 15:41:22.055 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 15:41:22.056 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:41:22.062 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 15:41:22.064 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:41:22.069 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-13 15:41:22.070 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-13 15:41:22.071 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 15:41:22.071 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 15:41:22.071 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-13 15:41:22.071 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-13 15:41:22.071 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberUpdateDto' ...
2024-01-13 15:41:22.072 +02:00 [DBG] Attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberUpdateDto' using the name '' in request data ...
2024-01-13 15:41:22.073 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-13 15:41:22.073 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-13 15:41:22.105 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberUpdateDto'.
2024-01-13 15:41:22.105 +02:00 [DBG] Done attempting to bind parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberUpdateDto'.
2024-01-13 15:41:22.105 +02:00 [DBG] Attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberUpdateDto' ...
2024-01-13 15:41:22.111 +02:00 [DBG] Done attempting to validate the bound parameter 'updateDto' of type 'MagicVilla_VillaAPI.Models.Dto.VillaNumberUpdateDto'.
2024-01-13 15:41:22.112 +02:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(v => v.Id == __updateDto_VillaId_0)
    .FirstOrDefault()'
2024-01-13 15:41:22.113 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string), 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string), 3], [Property: Villa.ImageUrl (string), 4], [Property: Villa.Name (string), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqm (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqm, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__updateDto_VillaId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        MagicVilla_VillaAPI.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-13 15:41:22.113 +02:00 [DBG] Creating DbConnection.
2024-01-13 15:41:22.113 +02:00 [DBG] Created DbConnection. (0ms).
2024-01-13 15:41:22.113 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:41:22.113 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:41:22.114 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 15:41:22.114 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:41:22.114 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:41:22.114 +02:00 [DBG] Executing DbCommand [Parameters=[@__updateDto_VillaId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__updateDto_VillaId_0
2024-01-13 15:41:22.117 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__updateDto_VillaId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqm], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__updateDto_VillaId_0
2024-01-13 15:41:22.123 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 15:41:22.133 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:41:22.134 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 16ms reading results.
2024-01-13 15:41:22.134 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:41:22.134 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 15:41:22.157 +02:00 [DBG] The navigation 'VillaNumber.Villa' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 15:41:22.161 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'VillaNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 15:41:22.163 +02:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-01-13 15:41:22.165 +02:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-01-13 15:41:22.177 +02:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-01-13 15:41:22.231 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:41:22.231 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:41:22.234 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 15:41:22.234 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:41:22.235 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-01-13 15:41:22.235 +02:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [VillaNumbers] SET [CreatedDate] = @p0, [SpecialDetails] = @p1, [UpdatedDate] = @p2, [VillaId] = @p3
OUTPUT 1
WHERE [VillaNo] = @p4;
2024-01-13 15:41:22.244 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [VillaNumbers] SET [CreatedDate] = @p0, [SpecialDetails] = @p1, [UpdatedDate] = @p2, [VillaId] = @p3
OUTPUT 1
WHERE [VillaNo] = @p4;
2024-01-13 15:41:22.248 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:41:22.248 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-01-13 15:41:22.249 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:41:22.249 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 15:41:22.255 +02:00 [DBG] An entity of type 'VillaNumber' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 15:41:22.256 +02:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-01-13 15:41:22.257 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 15:41:22.257 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-13 15:41:22.257 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-13 15:41:22.257 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 15:41:22.257 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 15:41:22.257 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 15:41:22.257 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2024-01-13 15:41:22.258 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaNumberApiController.UpdateVillaNumber (MagicVilla_VillaAPI) in 202.1715ms
2024-01-13 15:41:22.258 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.UpdateVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:41:22.258 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 15:41:22.258 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:41:22.258 +02:00 [DBG] Connection ID "18230571305285976102" disconnecting.
2024-01-13 15:41:22.258 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-13 15:41:22.258 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:44395/VillaNumberApi?id=201 - 200 70 application/json; charset=utf-8 206.6132ms
2024-01-13 15:41:32.597 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44395/VillaNumberApi/201 - null null
2024-01-13 15:41:32.598 +02:00 [DBG] 1 candidate(s) found for the request path '/VillaNumberApi/201'
2024-01-13 15:41:32.598 +02:00 [DBG] Endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI)' with route pattern 'VillaNumberApi/{id:int}' is valid for the request path '/VillaNumberApi/201'
2024-01-13 15:41:32.598 +02:00 [DBG] Request matched endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:41:32.599 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-01-13 15:41:32.599 +02:00 [INF] Executing endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:41:32.599 +02:00 [INF] Route matched with {action = "GetVillaNumber", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MagicVilla_VillaAPI.Models.ApiResponse]] GetVillaNumber(Int32) on controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI).
2024-01-13 15:41:32.599 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-13 15:41:32.599 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-13 15:41:32.599 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-13 15:41:32.599 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-13 15:41:32.600 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-13 15:41:32.600 +02:00 [DBG] Executing controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:41:32.601 +02:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-13 15:41:32.601 +02:00 [DBG] Executed controller factory for controller MagicVilla_VillaAPI.Controllers.VillaNumberApiController (MagicVilla_VillaAPI)
2024-01-13 15:41:32.601 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-13 15:41:32.601 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-13 15:41:32.601 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 15:41:32.601 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-13 15:41:32.601 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-13 15:41:32.601 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-13 15:41:32.603 +02:00 [DBG] Creating DbConnection.
2024-01-13 15:41:32.604 +02:00 [DBG] Created DbConnection. (0ms).
2024-01-13 15:41:32.604 +02:00 [DBG] Opening connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:41:32.604 +02:00 [DBG] Opened connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:41:32.604 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-13 15:41:32.604 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:41:32.604 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-13 15:41:32.604 +02:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId]
FROM [VillaNumbers] AS [v]
WHERE [v].[VillaNo] = @__id_0
2024-01-13 15:41:32.607 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId]
FROM [VillaNumbers] AS [v]
WHERE [v].[VillaNo] = @__id_0
2024-01-13 15:41:32.608 +02:00 [DBG] Context 'ApplicationDbContext' started tracking 'VillaNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-13 15:41:32.608 +02:00 [DBG] Closing data reader to 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:41:32.608 +02:00 [DBG] A data reader for 'MagicVilla' on server 'ABDULC\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-01-13 15:41:32.608 +02:00 [DBG] Closing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:41:32.608 +02:00 [DBG] Closed connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS' (0ms).
2024-01-13 15:41:32.609 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2024-01-13 15:41:32.609 +02:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-13 15:41:32.609 +02:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-13 15:41:32.609 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-13 15:41:32.609 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-13 15:41:32.609 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-13 15:41:32.609 +02:00 [INF] Executing OkObjectResult, writing value of type 'MagicVilla_VillaAPI.Models.ApiResponse'.
2024-01-13 15:41:32.609 +02:00 [INF] Executed action MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI) in 9.8646ms
2024-01-13 15:41:32.609 +02:00 [INF] Executed endpoint 'MagicVilla_VillaAPI.Controllers.VillaNumberApiController.GetVillaNumber (MagicVilla_VillaAPI)'
2024-01-13 15:41:32.610 +02:00 [DBG] 'ApplicationDbContext' disposed.
2024-01-13 15:41:32.610 +02:00 [DBG] Disposing connection to database 'MagicVilla' on server 'ABDULC\SQLEXPRESS'.
2024-01-13 15:41:32.610 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-13 15:41:32.610 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44395/VillaNumberApi/201 - 200 119 application/json; charset=utf-8 12.2909ms
2024-01-13 15:41:32.610 +02:00 [DBG] Connection ID "18374686497656799253" disconnecting.
